<!--
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed
under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the License for the
specific language governing permissions and limitations under the License.
--><!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.2.23. Authentication &mdash; Apache CouchDB® 3.3 Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/rtd_theme.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.couchdb.org/en/stable/api/server/authn.html"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="1.2.24. Configuration" href="configuration.html" />
    <link rel="prev" title="1.2.1. /" href="common.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Apache CouchDB®
              <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
<h2>Table of Contents</h2>

              <p class="caption" role="heading"><span class="caption-text">User Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intro/index.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../replication/index.html">2. Replication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ddocs/index.html">3. Design Documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../best-practices/index.html">4. Best Practices</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Administration Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/index.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../setup/index.html">2. Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../config/index.html">3. Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cluster/index.html">4. Cluster Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintenance/index.html">5. Maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fauxton/index.html">6. Fauxton</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../experimental.html">7. Experimental Features</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference Guides</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">1. API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../basics.html">1.1. API Basics</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">1.2. Server</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="common.html">1.2.1. <code class="docutils literal notranslate"><span class="pre">/</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#active-tasks">1.2.2. <code class="docutils literal notranslate"><span class="pre">/_active_tasks</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#all-dbs">1.2.3. <code class="docutils literal notranslate"><span class="pre">/_all_dbs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#dbs-info">1.2.4. <code class="docutils literal notranslate"><span class="pre">/_dbs_info</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#cluster-setup">1.2.5. <code class="docutils literal notranslate"><span class="pre">/_cluster_setup</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#db-updates">1.2.6. <code class="docutils literal notranslate"><span class="pre">/_db_updates</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#membership">1.2.7. <code class="docutils literal notranslate"><span class="pre">/_membership</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#replicate">1.2.8. <code class="docutils literal notranslate"><span class="pre">/_replicate</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#scheduler-jobs">1.2.9. <code class="docutils literal notranslate"><span class="pre">/_scheduler/jobs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#scheduler-docs">1.2.10. <code class="docutils literal notranslate"><span class="pre">/_scheduler/docs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#node-node-name">1.2.11. <code class="docutils literal notranslate"><span class="pre">/_node/{node-name}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#node-node-name-stats">1.2.12. <code class="docutils literal notranslate"><span class="pre">/_node/{node-name}/_stats</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#node-node-name-prometheus">1.2.13. <code class="docutils literal notranslate"><span class="pre">/_node/{node-name}/_prometheus</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#node-node-name-system">1.2.14. <code class="docutils literal notranslate"><span class="pre">/_node/{node-name}/_system</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#node-node-name-restart">1.2.15. <code class="docutils literal notranslate"><span class="pre">/_node/{node-name}/_restart</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#node-node-name-versions">1.2.16. <code class="docutils literal notranslate"><span class="pre">/_node/{node-name}/_versions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#search-analyze">1.2.17. <code class="docutils literal notranslate"><span class="pre">/_search_analyze</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#utils">1.2.18. <code class="docutils literal notranslate"><span class="pre">/_utils</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#up">1.2.19. <code class="docutils literal notranslate"><span class="pre">/_up</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#uuids">1.2.20. <code class="docutils literal notranslate"><span class="pre">/_uuids</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#favicon-ico">1.2.21. <code class="docutils literal notranslate"><span class="pre">/favicon.ico</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="common.html#reshard">1.2.22. <code class="docutils literal notranslate"><span class="pre">/_reshard</span></code></a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">1.2.23. Authentication</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basic-authentication">1.2.23.1. Basic Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cookie-authentication">1.2.23.2. Cookie Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="#proxy-authentication">1.2.23.3. Proxy Authentication</a></li>
<li class="toctree-l4"><a class="reference internal" href="#jwt-authentication">1.2.23.4. JWT Authentication</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html">1.2.24. Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database/index.html">1.3. Databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../document/index.html">1.4. Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ddoc/index.html">1.5. Design Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../partitioned-dbs.html">1.6. Partitioned Databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../local.html">1.7. Local (non-replicating) Documents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../json-structure.html">2. JSON Structure Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../query-server/index.html">3. Query Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../partitioned-dbs/index.html">4. Partitioned Databases</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../whatsnew/index.html">1. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cve/index.html">2. Security Issues / CVEs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cve/index.html#reporting-new-security-problems-with-apache-couchdb">3. Reporting New Security Problems with Apache CouchDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">4. License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">5. Contributing to this Documentation</a></li>
</ul>

<h2>Quick Reference Guides</h2>
<ul>
<li><a href="../../http-routingtable.html">API Quick Reference</a></li>
<li><a href="../../config-ref.html">Configuration Quick Reference</a></li>
</ul>


<h2>Local Links</h2>
<ul>
<li><a href="../">Fauxton</a></li>
</ul>


<h2>More Help</h2>
<ul>
<li><a href="https://couchdb.apache.org/">CouchDB Homepage</a></li>
<li><a href="https://couchdb.apache.org/#mailing-list">Mailing Lists</a></li>
<li><a href="https://couchdb.apache.org/#chat">Realtime Chat</a></li>
<li><a href="https://github.com/apache/couchdb/issues">Issue Tracker</a></li>
<li><a href="../../download.html">Download Docs</a></li>
</ul>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Apache CouchDB®</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html"><span class="section-number">1. </span>API Reference</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">1.2. </span>Server</a></li>
      <li class="breadcrumb-item active"><span class="section-number">1.2.23. </span>Authentication</li>
  
    
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api/server/authn.rst.txt" rel="nofollow"> View page source</a>
      </li>
  

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="authentication">
<span id="api-auth"></span><h1><span class="section-number">1.2.23. </span>Authentication<a class="headerlink" href="#authentication" title="Permalink to this heading">¶</a></h1>
<p>Interfaces for obtaining session and authorization data.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We also strongly recommend you <a class="reference internal" href="../../config/http.html#config-ssl"><span class="std std-ref">set up SSL</span></a> to
improve all authentication methods’ security.</p>
</div>
<section id="basic-authentication">
<span id="api-auth-basic"></span><h2><span class="section-number">1.2.23.1. </span>Basic Authentication<a class="headerlink" href="#basic-authentication" title="Permalink to this heading">¶</a></h2>
<p><a class="reference external" href="http://en.wikipedia.org/wiki/Basic_access_authentication">Basic authentication</a> (<span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2617.html"><strong>RFC 2617</strong></a>) is a quick and simple way to authenticate
with CouchDB. The main drawback is the need to send user credentials with each
request which may be insecure and could hurt operation performance (since
CouchDB must compute the password hash with every request):</p>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Authorization</span><span class="o">:</span> <span class="l">Basic cm9vdDpyZWxheA==</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">177</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Mon, 03 Dec 2012 00:44:47 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;couchdb&quot;</span><span class="p">:</span><span class="s2">&quot;Welcome&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;uuid&quot;</span><span class="p">:</span><span class="s2">&quot;0a959b9b8227188afc2ac26ccdf345a6&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="s2">&quot;1.3.0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;vendor&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="s2">&quot;1.3.0&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;The Apache Software Foundation&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="cookie-authentication">
<span id="api-auth-cookie"></span><h2><span class="section-number">1.2.23.2. </span>Cookie Authentication<a class="headerlink" href="#cookie-authentication" title="Permalink to this heading">¶</a></h2>
<p>For cookie authentication (<span class="target" id="index-1"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2109.html"><strong>RFC 2109</strong></a>) CouchDB generates a token that the
client can use for the next few requests to CouchDB. Tokens are valid until
a timeout. When CouchDB sees a valid token in a subsequent request, it will
authenticate the user by this token without requesting the password again. By
default, cookies are valid for 10 minutes, but it’s adjustable via <a class="reference internal" href="../../config/auth.html#chttpd_auth/timeout" title="timeout"><code class="xref config config-option docutils literal notranslate"><span class="pre">timeout</span></code></a>. Also it’s possible to make cookies
<a class="reference internal" href="../../config/auth.html#chttpd_auth/allow_persistent_cookies" title="allow_persistent_cookies"><code class="xref config config-option docutils literal notranslate"><span class="pre">persistent</span></code></a>.</p>
<p>To obtain the first token and thus authenticate a user for the first time, the
<code class="docutils literal notranslate"><span class="pre">username</span></code> and <code class="docutils literal notranslate"><span class="pre">password</span></code> must be sent to the <a class="reference internal" href="#api-auth-session"><span class="std std-ref">_session API</span></a>.</p>
<section id="session">
<span id="api-auth-session"></span><h3><span class="section-number">1.2.23.2.1. </span><code class="docutils literal notranslate"><span class="pre">/_session</span></code><a class="headerlink" href="#session" title="Permalink to this heading">¶</a></h3>
<dl class="http post">
<dt class="sig sig-object http" id="post--_session">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/_session</span></span><a class="headerlink" href="#post--_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Initiates new session for specified user credentials by providing <cite>Cookie</cite>
value.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/x-www-form-urlencoded</em></p></li>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Query Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>next</strong> (<em>string</em>) – Enforces redirect after successful login to the
specified location. This location is relative from server root.
<em>Optional</em>.</p></li>
</ul>
</dd>
<dt class="field-odd">Form Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – User name</p></li>
<li><p><strong>password</strong> – Password</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc2109#section-4.2.2">Set-Cookie</a></span> – Authorization token</p></li>
</ul>
</dd>
<dt class="field-odd">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ok</strong> (<em>boolean</em>) – Operation status</p></li>
<li><p><strong>name</strong> (<em>string</em>) – Username</p></li>
<li><p><strong>roles</strong> (<em>array</em>) – List of user roles</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Successfully authenticated</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.3">302 Found</a></span> – Redirect after successful authentication</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – Username or password wasn’t recognized</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/_session</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">24</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/x-www-form-urlencoded</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>

<span class="nt">name</span><span class="o">=</span><span class="s">root</span><span class="p">&amp;</span><span class="nt">password</span><span class="o">=</span><span class="s">relax</span>
</pre></div>
</div>
<p>It’s also possible to send data as JSON:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/_session</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">37</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;root&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;relax&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">43</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Mon, 03 Dec 2012 01:23:14 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>
<span class="na">Set-Cookie</span><span class="o">:</span> <span class="l">AuthSession=cm9vdDo1MEJCRkYwMjq0LO0ylOIwShrgt8y-UkhI-c6BGw; Version=1; Path=/; HttpOnly</span>

<span class="p">{</span><span class="nt">&quot;ok&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;root&quot;</span><span class="p">,</span><span class="nt">&quot;roles&quot;</span><span class="p">:[</span><span class="s2">&quot;_admin&quot;</span><span class="p">]}</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">next</span></code> query parameter was provided the response will trigger
redirection to the specified location in case of successful authentication:</p>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/_session?next=/blog/_design/sofa/_rewrite/recent-posts</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/x-www-form-urlencoded</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>

<span class="nt">name</span><span class="o">=</span><span class="s">root</span><span class="p">&amp;</span><span class="nt">password</span><span class="o">=</span><span class="s">relax</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">302</span> <span class="ne">Moved Temporarily</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">43</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Mon, 03 Dec 2012 01:32:46 GMT</span>
<span class="na">Location</span><span class="o">:</span> <span class="l">http://localhost:5984/blog/_design/sofa/_rewrite/recent-posts</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>
<span class="na">Set-Cookie</span><span class="o">:</span> <span class="l">AuthSession=cm9vdDo1MEJDMDEzRTp7Vu5GKCkTxTVxwXbpXsBARQWnhQ; Version=1; Path=/; HttpOnly</span>

<span class="p">{</span><span class="nt">&quot;ok&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="nt">&quot;roles&quot;</span><span class="p">:[</span><span class="s2">&quot;_admin&quot;</span><span class="p">]}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http get">
<dt class="sig sig-object http" id="get--_session">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_session</span></span><a class="headerlink" href="#get--_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns information about the authenticated user, including a
<a class="reference internal" href="../../json-structure.html#userctx-object"><span class="std std-ref">User Context Object</span></a>, the authentication method and database that were
used, and a list of configured authentication handlers on the server.</p>
<dl class="field-list simple">
<dt class="field-odd">Query Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>basic</strong> (<em>boolean</em>) – Accept <cite>Basic Auth</cite> by requesting this resource.
<em>Optional</em>.</p></li>
</ul>
</dd>
<dt class="field-even">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ok</strong> (<em>boolean</em>) – Operation status</p></li>
<li><p><strong>userCtx</strong> (<em>object</em>) – User context for the current user</p></li>
<li><p><strong>info</strong> (<em>object</em>) – Server authentication configuration</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Successfully authenticated.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – Username or password wasn’t recognized.</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_session</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Cookie</span><span class="o">:</span> <span class="l">AuthSession=cm9vdDo1MEJDMDQxRDpqb-Ta9QfP9hpdPjHLxNTKg_Hf9w</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">175</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Fri, 09 Aug 2013 20:27:45 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>
<span class="na">Set-Cookie</span><span class="o">:</span> <span class="l">AuthSession=cm9vdDo1MjA1NTBDMTqmX2qKt1KDR--GUC80DQ6-Ew_XIw; Version=1; Path=/; HttpOnly</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;authenticated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cookie&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;authentication_db&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;_users&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;authentication_handlers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;cookie&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;default&quot;</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;ok&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;userCtx&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;root&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;roles&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;_admin&quot;</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http delete">
<dt class="sig sig-object http" id="delete--_session">
<span class="sig-name descname"><span class="pre">DELETE</span> </span><span class="sig-name descname"><span class="pre">/_session</span></span><a class="headerlink" href="#delete--_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes user’s session by instructing the browser to clear the cookie. This
does not invalidate the session from the server’s perspective, as there is
no way to do this because CouchDB cookies are stateless. This means calling
this endpoint is purely optional from a client perspective, and it does not
protect against theft of a session cookie.</p>
<dl class="field-list simple">
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Successfully close session.</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">DELETE</span> <span class="nn">/_session</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Cookie</span><span class="o">:</span> <span class="l">AuthSession=cm9vdDo1MjA1NEVGMDo1QXNQkqC_0Qmgrk8Fw61_AzDeXw</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">12</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Fri, 09 Aug 2013 20:30:12 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>
<span class="na">Set-Cookie</span><span class="o">:</span> <span class="l">AuthSession=; Version=1; Path=/; HttpOnly</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;ok&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
</section>
<section id="proxy-authentication">
<span id="api-auth-proxy"></span><h2><span class="section-number">1.2.23.3. </span>Proxy Authentication<a class="headerlink" href="#proxy-authentication" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To use this authentication method make sure that the
<code class="docutils literal notranslate"><span class="pre">{chttpd_auth,</span> <span class="pre">proxy_authentication_handler}</span></code> value is added to the
list of the active <a class="reference internal" href="../../config/http.html#chttpd/authentication_handlers" title="authentication_handlers"><code class="xref config config-option docutils literal notranslate"><span class="pre">chttpd/authentication_handlers</span></code></a>:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[chttpd]</span>
<span class="na">authentication_handlers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">{chttpd_auth, cookie_authentication_handler}, {chttpd_auth, proxy_authentication_handler}, {chttpd_auth, default_authentication_handler}</span>
</pre></div>
</div>
</div>
<p><cite>Proxy authentication</cite> is very useful in case your application already uses
some external authentication service and you don’t want to duplicate users and
their roles in CouchDB.</p>
<p>This authentication method allows creation of a <a class="reference internal" href="../../json-structure.html#userctx-object"><span class="std std-ref">User Context Object</span></a> for
remotely authenticated user. By default, the client just needs to pass specific
headers to CouchDB with related requests:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../../config/auth.html#chttpd_auth/x_auth_username" title="x_auth_username"><code class="xref config config-option docutils literal notranslate"><span class="pre">X-Auth-CouchDB-UserName</span></code></a>:
username</p></li>
<li><p><a class="reference internal" href="../../config/auth.html#chttpd_auth/x_auth_roles" title="x_auth_roles"><code class="xref config config-option docutils literal notranslate"><span class="pre">X-Auth-CouchDB-Roles</span></code></a>:
comma-separated (<code class="docutils literal notranslate"><span class="pre">,</span></code>) list of user roles</p></li>
<li><p><a class="reference internal" href="../../config/auth.html#chttpd_auth/x_auth_token" title="x_auth_token"><code class="xref config config-option docutils literal notranslate"><span class="pre">X-Auth-CouchDB-Token</span></code></a>:
authentication token. When
<a class="reference internal" href="../../config/auth.html#chttpd_auth/proxy_use_secret" title="proxy_use_secret"><code class="xref config config-option docutils literal notranslate"><span class="pre">proxy_use_secret</span></code></a>
is set (which is strongly recommended!), this header provides an HMAC of the
username to authenticate and the secret token to prevent requests from
untrusted sources. (Use one of the configured hash algorithms in
<a class="reference internal" href="../../config/auth.html#chttpd_auth/hash_algorithms" title="hash_algorithms"><code class="xref config config-option docutils literal notranslate"><span class="pre">chttpd_auth/hash_algorithms</span></code></a>
and sign the username with the secret)</p></li>
</ul>
<p><strong>Creating the token (example with openssl)</strong>:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span><span class="w"> </span>-n<span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>openssl<span class="w"> </span>dgst<span class="w"> </span>-sha256<span class="w"> </span>-hmac<span class="w"> </span><span class="s2">&quot;the_secret&quot;</span>
<span class="c1"># (stdin)= 3f0786e96b20b0102b77f1a49c041be6977cfb3bf78c41a12adc121cd9b4e68a</span>
</pre></div>
</div>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_session</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json; charset=utf-8</span>
<span class="na">X-Auth-CouchDB-Roles</span><span class="o">:</span> <span class="l">users,blogger</span>
<span class="na">X-Auth-CouchDB-UserName</span><span class="o">:</span> <span class="l">foo</span>
<span class="na">X-Auth-CouchDB-Token</span><span class="o">:</span> <span class="l">3f0786e96b20b0102b77f1a49c041be6977cfb3bf78c41a12adc121cd9b4e68a</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">190</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Fri, 14 Jun 2013 10:16:03 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;authenticated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;proxy&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;authentication_db&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;_users&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;authentication_handlers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;cookie&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;proxy&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;default&quot;</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;ok&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;userCtx&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;roles&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;users&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;blogger&quot;</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that you don’t need to request a <a class="reference internal" href="#api-auth-session"><span class="std std-ref">session</span></a>
to be authenticated by this method if all required HTTP headers are provided.</p>
</section>
<section id="jwt-authentication">
<span id="api-auth-jwt"></span><h2><span class="section-number">1.2.23.4. </span>JWT Authentication<a class="headerlink" href="#jwt-authentication" title="Permalink to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>To use this authentication method, make sure that the
<code class="docutils literal notranslate"><span class="pre">{chttpd_auth,</span> <span class="pre">jwt_authentication_handler}</span></code> value is added to the
list of the active <a class="reference internal" href="../../config/http.html#chttpd/authentication_handlers" title="authentication_handlers"><code class="xref config config-option docutils literal notranslate"><span class="pre">chttpd/authentication_handlers</span></code></a>:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[chttpd]</span>
<span class="na">authentication_handlers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">{chttpd_auth, cookie_authentication_handler}, {chttpd_auth, jwt_authentication_handler}, {chttpd_auth, default_authentication_handler}</span>
</pre></div>
</div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">JWT</span> <span class="pre">authentication</span></code> enables CouchDB to use externally-generated JWT tokens
instead of defining users or roles in the <code class="docutils literal notranslate"><span class="pre">_users</span></code> database.</p>
<p>The JWT authentication handler requires that all JWT tokens are signed by a key that
CouchDB has been configured to trust (there is no support for JWT’s “NONE” algorithm).</p>
<p>Additionally, CouchDB can be configured to reject JWT tokens that are
missing a configurable set of claims (e.g, a CouchDB administrator
could insist on the <code class="docutils literal notranslate"><span class="pre">exp</span></code> claim).</p>
<p>Only claims listed in required checks are validated. Additional claims will be ignored.</p>
<p>Two sections of config exist to configure JWT authentication;</p>
<p>The <a class="reference internal" href="../../config/auth.html#jwt_auth/required_claims" title="required_claims"><code class="xref config config-option docutils literal notranslate"><span class="pre">required_claims</span></code></a> config
setting is a comma-separated list of additional mandatory JWT claims
that must be present in any presented JWT token. A <a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a>
is sent if any are missing.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">alg</span></code> claim is mandatory as it used to lookup the correct key for verifying the
signature.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">sub</span></code> claim is mandatory and is used as the CouchDB user’s name if the JWT token
is valid.</p>
<p>You can set the user roles claim name through the config setting
<a class="reference internal" href="../../config/auth.html#jwt_auth/roles_claim_name" title="roles_claim_name"><code class="xref config config-option docutils literal notranslate"><span class="pre">roles_claim_name</span></code></a>. If you don’t set
an explicit value, then <code class="docutils literal notranslate"><span class="pre">_couchdb.roles</span></code> will be set as the default claim name.
If presented, as a JSON array of strings, it is used as the CouchDB user’s roles
list as long as the JWT token is valid.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><code class="docutils literal notranslate"><span class="pre">roles_claim_name</span></code> is deprecated in CouchDB 3.3, and will be removed later.
Please use <a class="reference internal" href="../../config/auth.html#jwt_auth/roles_claim_path" title="roles_claim_path"><code class="xref config config-option docutils literal notranslate"><span class="pre">roles_claim_path</span></code></a>.</p>
</div>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1">; [jwt_keys]</span>
<span class="c1">; Configure at least one key here if using the JWT auth handler.</span>
<span class="c1">; If your JWT tokens do not include a &quot;kid&quot; attribute, use &quot;_default&quot;</span>
<span class="c1">; as the config key, otherwise use the kid as the config key.</span>
<span class="c1">; Examples</span>
<span class="c1">; hmac:_default = aGVsbG8=</span>
<span class="c1">; hmac:foo = aGVsbG8=</span>
<span class="c1">; The config values can represent symmetric and asymmetric keys.</span>
<span class="c1">; For symmetric keys, the value is base64 encoded;</span>
<span class="c1">; hmac:_default = aGVsbG8= # base64-encoded form of &quot;hello&quot;</span>
<span class="c1">; For asymmetric keys, the value is the PEM encoding of the public</span>
<span class="c1">; key with newlines replaced with the escape sequence \n.</span>
<span class="c1">; rsa:foo = -----BEGIN PUBLIC KEY-----\nMIIBIjAN...IDAQAB\n-----END PUBLIC KEY-----\n</span>
<span class="c1">; ec:bar = -----BEGIN PUBLIC KEY-----\nMHYwEAYHK...AzztRs\n-----END PUBLIC KEY-----\n</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">jwt_keys</span></code> section lists all the keys that this CouchDB server trusts. You
should ensure that all nodes of your cluster have the same list.</p>
<p>Since version 3.3 it’s possible to use <code class="docutils literal notranslate"><span class="pre">=</span></code> in parameter names, but only when
the parameter and value are separated <code class="docutils literal notranslate"><span class="pre"> = </span></code>, i.e. the equal sign is
surrounded by at least one space on each side. This might be useful in the
<code class="docutils literal notranslate"><span class="pre">[jwt_keys]</span></code> section where base64 encoded keys may contain the <code class="docutils literal notranslate"><span class="pre">=</span></code>
character.</p>
<p>JWT tokens that do not include a <code class="docutils literal notranslate"><span class="pre">kid</span></code> claim will be validated against the
<code class="docutils literal notranslate"><span class="pre">$alg:_default</span></code> key.</p>
<p>It is mandatory to specify the algorithm associated with every key for security
reasons (notably presenting a HMAC-signed token using an RSA or EC public key
that the server trusts:
<a class="reference external" href="https://auth0.com/blog/critical-vulnerabilities-in-json-web-token-libraries/">https://auth0.com/blog/critical-vulnerabilities-in-json-web-token-libraries/</a>).</p>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_session</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json; charset=utf-8</span>
<span class="na">Authorization</span><span class="o">:</span> <span class="l">Bearer &lt;JWT token&gt;</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">188</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sun, 19 Apr 2020 08:29:15 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;authenticated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;jwt&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;authentication_db&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;_users&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;authentication_handlers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;cookie&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;proxy&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;default&quot;</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;ok&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;userCtx&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;foo&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;roles&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;users&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;blogger&quot;</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that you don’t need to request <a class="reference internal" href="#api-auth-session"><span class="std std-ref">session</span></a>
to be authenticated by this method if the required HTTP header is provided.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="common.html" class="btn btn-neutral float-left" title="1.2.1. /" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="configuration.html" class="btn btn-neutral float-right" title="1.2.24. Configuration" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Apache Software Foundation. CouchDB® is a registered trademark of the Apache Software Foundation.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>