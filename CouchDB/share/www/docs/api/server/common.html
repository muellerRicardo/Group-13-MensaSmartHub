<!--
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed
under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR
CONDITIONS OF ANY KIND, either express or implied. See the License for the
specific language governing permissions and limitations under the License.
--><!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.2.1. / &mdash; Apache CouchDB® 3.3 Documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/rtd_theme.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="canonical" href="https://docs.couchdb.org/en/stable/api/server/common.html"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="1.2.23. Authentication" href="authn.html" />
    <link rel="prev" title="1.2. Server" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            Apache CouchDB®
              <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                3.3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
<h2>Table of Contents</h2>

              <p class="caption" role="heading"><span class="caption-text">User Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../intro/index.html">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../replication/index.html">2. Replication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ddocs/index.html">3. Design Documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../best-practices/index.html">4. Best Practices</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Administration Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../install/index.html">1. Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../setup/index.html">2. Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../config/index.html">3. Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cluster/index.html">4. Cluster Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../maintenance/index.html">5. Maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../fauxton/index.html">6. Fauxton</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../experimental.html">7. Experimental Features</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference Guides</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">1. API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../basics.html">1.1. API Basics</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">1.2. Server</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">1.2.1. <code class="docutils literal notranslate"><span class="pre">/</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#active-tasks">1.2.2. <code class="docutils literal notranslate"><span class="pre">/_active_tasks</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#all-dbs">1.2.3. <code class="docutils literal notranslate"><span class="pre">/_all_dbs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#dbs-info">1.2.4. <code class="docutils literal notranslate"><span class="pre">/_dbs_info</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#cluster-setup">1.2.5. <code class="docutils literal notranslate"><span class="pre">/_cluster_setup</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#db-updates">1.2.6. <code class="docutils literal notranslate"><span class="pre">/_db_updates</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#membership">1.2.7. <code class="docutils literal notranslate"><span class="pre">/_membership</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#replicate">1.2.8. <code class="docutils literal notranslate"><span class="pre">/_replicate</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#replication-operation">1.2.8.1. Replication Operation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#specifying-the-source-and-target-database">1.2.8.2. Specifying the Source and Target Database</a></li>
<li class="toctree-l4"><a class="reference internal" href="#single-replication">1.2.8.3. Single Replication</a></li>
<li class="toctree-l4"><a class="reference internal" href="#continuous-replication">1.2.8.4. Continuous Replication</a></li>
<li class="toctree-l4"><a class="reference internal" href="#canceling-continuous-replication">1.2.8.5. Canceling Continuous Replication</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#scheduler-jobs">1.2.9. <code class="docutils literal notranslate"><span class="pre">/_scheduler/jobs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#scheduler-docs">1.2.10. <code class="docutils literal notranslate"><span class="pre">/_scheduler/docs</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#node-node-name">1.2.11. <code class="docutils literal notranslate"><span class="pre">/_node/{node-name}</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#node-node-name-stats">1.2.12. <code class="docutils literal notranslate"><span class="pre">/_node/{node-name}/_stats</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#node-node-name-prometheus">1.2.13. <code class="docutils literal notranslate"><span class="pre">/_node/{node-name}/_prometheus</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#node-node-name-system">1.2.14. <code class="docutils literal notranslate"><span class="pre">/_node/{node-name}/_system</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#node-node-name-restart">1.2.15. <code class="docutils literal notranslate"><span class="pre">/_node/{node-name}/_restart</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#node-node-name-versions">1.2.16. <code class="docutils literal notranslate"><span class="pre">/_node/{node-name}/_versions</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#search-analyze">1.2.17. <code class="docutils literal notranslate"><span class="pre">/_search_analyze</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#utils">1.2.18. <code class="docutils literal notranslate"><span class="pre">/_utils</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#up">1.2.19. <code class="docutils literal notranslate"><span class="pre">/_up</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#uuids">1.2.20. <code class="docutils literal notranslate"><span class="pre">/_uuids</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#favicon-ico">1.2.21. <code class="docutils literal notranslate"><span class="pre">/favicon.ico</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#reshard">1.2.22. <code class="docutils literal notranslate"><span class="pre">/_reshard</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="authn.html">1.2.23. Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="configuration.html">1.2.24. Configuration</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database/index.html">1.3. Databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../document/index.html">1.4. Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ddoc/index.html">1.5. Design Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../partitioned-dbs.html">1.6. Partitioned Databases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../local.html">1.7. Local (non-replicating) Documents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../json-structure.html">2. JSON Structure Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../query-server/index.html">3. Query Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../partitioned-dbs/index.html">4. Partitioned Databases</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../whatsnew/index.html">1. Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cve/index.html">2. Security Issues / CVEs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cve/index.html#reporting-new-security-problems-with-apache-couchdb">3. Reporting New Security Problems with Apache CouchDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">4. License</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">5. Contributing to this Documentation</a></li>
</ul>

<h2>Quick Reference Guides</h2>
<ul>
<li><a href="../../http-routingtable.html">API Quick Reference</a></li>
<li><a href="../../config-ref.html">Configuration Quick Reference</a></li>
</ul>


<h2>Local Links</h2>
<ul>
<li><a href="../">Fauxton</a></li>
</ul>


<h2>More Help</h2>
<ul>
<li><a href="https://couchdb.apache.org/">CouchDB Homepage</a></li>
<li><a href="https://couchdb.apache.org/#mailing-list">Mailing Lists</a></li>
<li><a href="https://couchdb.apache.org/#chat">Realtime Chat</a></li>
<li><a href="https://github.com/apache/couchdb/issues">Issue Tracker</a></li>
<li><a href="../../download.html">Download Docs</a></li>
</ul>



        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Apache CouchDB®</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html"><span class="section-number">1. </span>API Reference</a></li>
          <li class="breadcrumb-item"><a href="index.html"><span class="section-number">1.2. </span>Server</a></li>
      <li class="breadcrumb-item active"><span class="section-number">1.2.1. </span><code class="docutils literal notranslate"><span class="pre">/</span></code></li>
  
    
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/api/server/common.rst.txt" rel="nofollow"> View page source</a>
      </li>
  

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="api-server-root">
<span id="id1"></span><h1><span class="section-number">1.2.1. </span><code class="docutils literal notranslate"><span class="pre">/</span></code><a class="headerlink" href="#api-server-root" title="Permalink to this heading">¶</a></h1>
<dl class="http get">
<dt class="sig sig-object http" id="get--">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/</span></span><a class="headerlink" href="#get--" title="Permalink to this definition">¶</a></dt>
<dd><p>Accessing the root of a CouchDB instance returns meta information about the
instance. The response is a JSON structure containing information about the
server, including a welcome message and the version of the server.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain; charset=utf-8</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">179</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sat, 10 Aug 2013 06:33:33 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;couchdb&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Welcome&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;uuid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;85fb71bf700c17267fef77535820e371&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;vendor&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;The Apache Software Foundation&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.3.1&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.3.1&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="active-tasks">
<span id="api-server-active-tasks"></span><h1><span class="section-number">1.2.2. </span><code class="docutils literal notranslate"><span class="pre">/_active_tasks</span></code><a class="headerlink" href="#active-tasks" title="Permalink to this heading">¶</a></h1>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 2.1.0: </span>Because of how the scheduling replicator works, continuous replication jobs could be periodically stopped and then started later. When they are not running they will not appear in the <code class="docutils literal notranslate"><span class="pre">_active_tasks</span></code> endpoint</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.3: </span>Added <cite>“bulk_get_attempts”</cite> and <cite>“bulk_get_docs”</cite> fields for replication jobs.</p>
</div>
<dl class="http get">
<dt class="sig sig-object http" id="get--_active_tasks">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_active_tasks</span></span><a class="headerlink" href="#get--_active_tasks" title="Permalink to this definition">¶</a></dt>
<dd><p>List of running tasks, including the task type, name, status
and process ID. The result is a JSON array of the currently running tasks,
with each task being described with a single object. Depending on operation
type set of response object fields might be different.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain; charset=utf-8</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>changes_done</strong> (<em>number</em>) – Processed changes</p></li>
<li><p><strong>database</strong> (<em>string</em>) – Source database</p></li>
<li><p><strong>pid</strong> (<em>string</em>) – Process ID</p></li>
<li><p><strong>progress</strong> (<em>number</em>) – Current percentage progress</p></li>
<li><p><strong>started_on</strong> (<em>number</em>) – Task start time as unix timestamp</p></li>
<li><p><strong>status</strong> (<em>string</em>) – Task status message</p></li>
<li><p><strong>task</strong> (<em>string</em>) – Task name</p></li>
<li><p><strong>total_changes</strong> (<em>number</em>) – Total changes to process</p></li>
<li><p><strong>type</strong> (<em>string</em>) – Operation Type</p></li>
<li><p><strong>updated_on</strong> (<em>number</em>) – Unix timestamp of last operation update</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – CouchDB Server Administrator privileges required</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_active_tasks</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">1690</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sat, 10 Aug 2013 06:37:31 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>

<span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;changes_done&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">64438</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;database&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mailbox&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;pid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;0.12986.1&gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">84</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;started_on&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1376116576</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;total_changes&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">76215</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;database_compaction&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;updated_on&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1376116619</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;changes_done&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">14443</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;database&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mailbox&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;design_document&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;c9753817b3ba7c674d92361f24f59b9f&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;pid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;0.10461.3&gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;started_on&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1376116621</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;total_changes&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">76215</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;indexer&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;updated_on&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1376116650</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;changes_done&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5454</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;database&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mailbox&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;design_document&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;_design/meta&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;pid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;0.6838.4&gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;started_on&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1376116632</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;total_changes&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">76215</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;indexer&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;updated_on&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1376116651</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;checkpointed_source_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">68585</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;continuous&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;doc_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;doc_write_failures&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;bulk_get_attempts&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4524</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;bulk_get_docs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4524</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;docs_read&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4524</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;docs_written&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4524</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;missing_revisions_found&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4524</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;pid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;0.1538.5&gt;&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">44</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;replication_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;9bc1727d74d49d9e157e260bb8bbd1d5&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;revisions_checked&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4524</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;mailbox&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;source_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">154419</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;started_on&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1376116644</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://mailsrv:5984/mailbox&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;replication&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;updated_on&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1376116651</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="all-dbs">
<span id="api-server-all-dbs"></span><h1><span class="section-number">1.2.3. </span><code class="docutils literal notranslate"><span class="pre">/_all_dbs</span></code><a class="headerlink" href="#all-dbs" title="Permalink to this heading">¶</a></h1>
<dl class="http get">
<dt class="sig sig-object http" id="get--_all_dbs">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_all_dbs</span></span><a class="headerlink" href="#get--_all_dbs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all the databases in the CouchDB instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Query Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>descending</strong> (<em>boolean</em>) – Return the databases in descending order by key.
Default is <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>endkey</strong> (<em>json</em>) – Stop returning databases when the specified key is
reached.</p></li>
<li><p><strong>end_key</strong> (<em>json</em>) – Alias for <code class="docutils literal notranslate"><span class="pre">endkey</span></code> param</p></li>
<li><p><strong>limit</strong> (<em>number</em>) – Limit the number of the returned databases to the
specified number.</p></li>
<li><p><strong>skip</strong> (<em>number</em>) – Skip this number of databases before starting to return
the results. Default is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li>
<li><p><strong>startkey</strong> (<em>json</em>) – Return databases starting with the specified key.</p></li>
<li><p><strong>start_key</strong> (<em>json</em>) – Alias for <code class="docutils literal notranslate"><span class="pre">startkey</span></code>.</p></li>
</ul>
</dd>
<dt class="field-odd">Response Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain; charset=utf-8</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_all_dbs</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">52</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sat, 10 Aug 2013 06:57:48 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>

<span class="p">[</span>
<span class="w">   </span><span class="s2">&quot;_users&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="s2">&quot;contacts&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="s2">&quot;docs&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="s2">&quot;invoices&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="s2">&quot;locations&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="dbs-info">
<span id="api-server-dbs-info"></span><h1><span class="section-number">1.2.4. </span><code class="docutils literal notranslate"><span class="pre">/_dbs_info</span></code><a class="headerlink" href="#dbs-info" title="Permalink to this heading">¶</a></h1>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.2.</span></p>
</div>
<dl class="http get">
<dt class="sig sig-object http" id="get--_dbs_info">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_dbs_info</span></span><a class="headerlink" href="#get--_dbs_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all the databases information in the CouchDB instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Query Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>descending</strong> (<em>boolean</em>) – Return databases information in descending order
by key. Default is <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p></li>
<li><p><strong>endkey</strong> (<em>json</em>) – Stop returning databases information when the specified
key is reached.</p></li>
<li><p><strong>end_key</strong> (<em>json</em>) – Alias for <code class="docutils literal notranslate"><span class="pre">endkey</span></code> param</p></li>
<li><p><strong>limit</strong> (<em>number</em>) – Limit the number of the returned databases information
to the specified number.</p></li>
<li><p><strong>skip</strong> (<em>number</em>) – Skip this number of databases before starting to return
the results. Default is <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li>
<li><p><strong>startkey</strong> (<em>json</em>) – Return databases information starting with the
specified key.</p></li>
<li><p><strong>start_key</strong> (<em>json</em>) – Alias for <code class="docutils literal notranslate"><span class="pre">startkey</span></code>.</p></li>
</ul>
</dd>
<dt class="field-odd">Response Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain; charset=utf-8</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_dbs_info</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Thu, 18 Nov 2021 14:37:35 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang OTP/23)</span>

<span class="p">[</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;animals&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;db_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;animals&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;update_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;52232&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;sizes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;file&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1178613587</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;external&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1713103872</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;active&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1162451555</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;purge_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;doc_del_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;doc_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">52224</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;disk_format_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;compact_running&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;cluster&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;q&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;w&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;r&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;instance_start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<div class="versionadded">
<p><span class="versionmodified added">New in version 2.2.</span></p>
</div>
<dl class="http post">
<dt class="sig sig-object http" id="post--_dbs_info">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/_dbs_info</span></span><a class="headerlink" href="#post--_dbs_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns information of a list of the specified databases in the CouchDB
instance. This enables you to request information about multiple databases
in a single request, in place of multiple <a class="reference internal" href="../database/common.html#get--db" title="GET /{db}"><code class="xref http http-get docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/{db}</span></code></a> requests.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Request JSON Object<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>keys</strong> (<em>array</em>) – Array of database names to be requested</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – Missing keys or exceeded keys in request</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/_dbs_info</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;keys&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;animals&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;plants&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sat, 20 Dec 2017 06:57:48 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>

<span class="p">[</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;animals&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;db_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;animals&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;update_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;52232&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;sizes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;file&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1178613587</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;external&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1713103872</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;active&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1162451555</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;purge_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;doc_del_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;doc_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">52224</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;disk_format_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;compact_running&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;cluster&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;q&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;w&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;r&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;instance_start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;key&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;plants&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;db_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;plants&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;update_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;303&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;sizes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;file&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3872387</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;external&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2339</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;active&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67475</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;purge_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;doc_del_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;doc_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;disk_format_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;compact_running&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;cluster&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;q&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;w&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;r&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;instance_start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The supported number of the specified databases in the list can be limited
by modifying the <cite>max_db_number_for_dbs_info_req</cite> entry in configuration
file. The default limit is 100. Increasing the limit, while possible, creates
load on the server so it is advisable to have more requests with 100 dbs,
rather than a few requests with 1000s of dbs at a time.</p>
</div>
</section>
<section id="cluster-setup">
<span id="api-server-cluster-setup"></span><h1><span class="section-number">1.2.5. </span><code class="docutils literal notranslate"><span class="pre">/_cluster_setup</span></code><a class="headerlink" href="#cluster-setup" title="Permalink to this heading">¶</a></h1>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<dl class="http get">
<dt class="sig sig-object http" id="get--_cluster_setup">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_cluster_setup</span></span><a class="headerlink" href="#get--_cluster_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the status of the node or cluster, per the cluster setup wizard.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Query Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ensure_dbs_exist</strong> (<em>array</em>) – List of system databases to ensure exist
on the node/cluster. Defaults to
<code class="docutils literal notranslate"><span class="pre">[&quot;_users&quot;,&quot;_replicator&quot;]</span></code>.</p></li>
</ul>
</dd>
<dt class="field-odd">Response Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain; charset=utf-8</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>state</strong> (<em>string</em>) – Current <code class="docutils literal notranslate"><span class="pre">state</span></code> of the node and/or cluster (see
below)</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
</ul>
</dd>
</dl>
<p>The <code class="docutils literal notranslate"><span class="pre">state</span></code> returned indicates the current node or cluster state, and
is one of the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cluster_disabled</span></code>: The current node is completely unconfigured.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">single_node_disabled</span></code>: The current node is configured as a single
(standalone) node (<code class="docutils literal notranslate"><span class="pre">[cluster]</span> <span class="pre">n=1</span></code>), but either does not have a
server-level admin user defined, or does not have the standard system
databases created. If the <code class="docutils literal notranslate"><span class="pre">ensure_dbs_exist</span></code> query parameter is
specified, the list of databases provided overrides the default list
of standard system databases.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">single_node_enabled</span></code>: The current node is configured as a single
(standalone) node, has a server-level admin user defined, and has
the <code class="docutils literal notranslate"><span class="pre">ensure_dbs_exist</span></code> list (explicit or default) of databases
created.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cluster_enabled</span></code>: The current node has <code class="docutils literal notranslate"><span class="pre">[cluster]</span> <span class="pre">n</span></code> &gt; 1, is not
bound to <code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code> and has a server-level admin user defined.
However, the full set of standard system databases have not been
created yet. If the <code class="docutils literal notranslate"><span class="pre">ensure_dbs_exist</span></code> query parameter is
specified, the list of databases provided overrides the default list
of standard system databases.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cluster_finished</span></code>: The current node has <code class="docutils literal notranslate"><span class="pre">[cluster]</span> <span class="pre">n</span></code> &gt; 1, is not
bound to <code class="docutils literal notranslate"><span class="pre">127.0.0.1</span></code>, has a server-level admin user defined <em>and</em>
has the <code class="docutils literal notranslate"><span class="pre">ensure_dbs_exist</span></code> list (explicit or default) of databases
created.</p></li>
</ul>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_cluster_setup</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">X-CouchDB-Body-Time</span><span class="o">:</span> <span class="l">0</span>
<span class="na">X-Couch-Request-ID</span><span class="o">:</span> <span class="l">5c058bdd37</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB/2.1.0-7f17678 (Erlang OTP/17)</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sun, 30 Jul 2017 06:33:18 GMT</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">29</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>

<span class="p">{</span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="s2">&quot;cluster_enabled&quot;</span><span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http post">
<dt class="sig sig-object http" id="post--_cluster_setup">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/_cluster_setup</span></span><a class="headerlink" href="#post--_cluster_setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure a node as a single (standalone) node, as part of a cluster,
or finalise a cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain</em></p></li>
</ul>
</p></li>
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <em class="mimetype">application/json</em></p></li>
</ul>
</dd>
<dt class="field-even">Request JSON Object<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>action</strong> (<em>string</em>) – <ul>
<li><p><strong>enable_single_node</strong>: Configure the current node
as a single, standalone CouchDB server.</p></li>
<li><p><strong>enable_cluster</strong>: Configure the local or remote
node as one node, preparing it to be joined to a
new CouchDB cluster.</p></li>
<li><p><strong>add_node</strong>: Add the specified remote node to
this cluster’s list of nodes, joining it to the
cluster.</p></li>
<li><p><strong>finish_cluster</strong>: Finalise the cluster by
creating the standard system databases.</p></li>
</ul>
</p></li>
<li><p><strong>bind_address</strong> (<em>string</em>) – The IP address to which to bind the current
node. The special value <code class="docutils literal notranslate"><span class="pre">0.0.0.0</span></code> may be specified to bind to all
interfaces on the host. (enable_cluster and enable_single_node only)</p></li>
<li><p><strong>username</strong> (<em>string</em>) – The username of the server-level administrator to
create. (enable_cluster and enable_single_node only), or the remote
server’s administrator username (add_node)</p></li>
<li><p><strong>password</strong> (<em>string</em>) – The password for the server-level administrator to
create. (enable_cluster and enable_single_node only), or the remote
server’s administrator username (add_node)</p></li>
<li><p><strong>port</strong> (<em>number</em>) – The TCP port to which to bind this node
(enable_cluster and enable_single_node only) or the TCP port to which
to bind a remote node (add_node only).</p></li>
<li><p><strong>node_count</strong> (<em>number</em>) – The total number of nodes to be joined into
the cluster, including this one. Used to determine the value of the
cluster’s <code class="docutils literal notranslate"><span class="pre">n</span></code>, up to a maximum of 3. (enable_cluster only)</p></li>
<li><p><strong>remote_node</strong> (<em>string</em>) – The IP address of the remote node to setup as
part of this cluster’s list of nodes. (enable_cluster only)</p></li>
<li><p><strong>remote_current_user</strong> (<em>string</em>) – The username of the server-level
administrator authorized on the remote node. (enable_cluster only)</p></li>
<li><p><strong>remote_current_password</strong> (<em>string</em>) – The password of the server-level
administrator authorized on the remote node. (enable_cluster only)</p></li>
<li><p><strong>host</strong> (<em>string</em>) – The remote node IP of the node to add to the cluster.
(add_node only)</p></li>
<li><p><strong>ensure_dbs_exist</strong> (<em>array</em>) – List of system databases to ensure exist
on the node/cluster. Defaults to
<code class="docutils literal notranslate"><span class="pre">[&quot;_users&quot;,&quot;_replicator&quot;]</span></code>.</p></li>
</ul>
</dd>
</dl>
<p><em>No example request/response included here. For a worked example, please
see</em> <a class="reference internal" href="../../setup/cluster.html#cluster-setup-api"><span class="std std-ref">The Cluster Setup API</span></a>.</p>
</dd></dl>

</section>
<section id="db-updates">
<span id="api-server-db-updates"></span><h1><span class="section-number">1.2.6. </span><code class="docutils literal notranslate"><span class="pre">/_db_updates</span></code><a class="headerlink" href="#db-updates" title="Permalink to this heading">¶</a></h1>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.4.</span></p>
</div>
<dl class="http get">
<dt class="sig sig-object http" id="get--_db_updates">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_db_updates</span></span><a class="headerlink" href="#get--_db_updates" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all database events in the CouchDB instance. The
existence of the <code class="docutils literal notranslate"><span class="pre">_global_changes</span></code> database is required to use this
endpoint.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Query Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>feed</strong> (<em>string</em>) – <ul>
<li><p><strong>normal</strong>: Returns all historical DB changes, then
closes the connection. <em>Default.</em></p></li>
<li><p><strong>longpoll</strong>: Closes the connection after the first
event.</p></li>
<li><p><strong>continuous</strong>: Send a line of JSON per event.
Keeps the socket open until <code class="docutils literal notranslate"><span class="pre">timeout</span></code>.</p></li>
<li><p><strong>eventsource</strong>: Like, <code class="docutils literal notranslate"><span class="pre">continuous</span></code>, but sends
the events in <a class="reference external" href="http://dev.w3.org/html5/eventsource/">EventSource</a> format.</p></li>
</ul>
</p></li>
<li><p><strong>timeout</strong> (<em>number</em>) – Number of <em>milliseconds</em> until CouchDB closes the
connection. Default is <code class="docutils literal notranslate"><span class="pre">60000</span></code>.</p></li>
<li><p><strong>heartbeat</strong> (<em>number</em>) – Period in <em>milliseconds</em> after which an empty
line is sent in the results. Only applicable for <code class="docutils literal notranslate"><span class="pre">longpoll</span></code>,
<code class="docutils literal notranslate"><span class="pre">continuous</span></code>, and <code class="docutils literal notranslate"><span class="pre">eventsource</span></code> feeds. Overrides any timeout to
keep the feed alive indefinitely. Default is <code class="docutils literal notranslate"><span class="pre">60000</span></code>. May be <code class="docutils literal notranslate"><span class="pre">true</span></code>
to use default value.</p></li>
<li><p><strong>since</strong> (<em>string</em>) – Return only updates since the specified sequence ID.
If the sequence ID is specified but does not exist, all changes are returned.
May be the string <code class="docutils literal notranslate"><span class="pre">now</span></code> to begin showing only new updates.</p></li>
</ul>
</dd>
<dt class="field-odd">Response Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain; charset=utf-8</em></p></li>
</ul>
</p></li>
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7230#section-3.3.1">Transfer-Encoding</a></span> – <code class="docutils literal notranslate"><span class="pre">chunked</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>results</strong> (<em>array</em>) – An array of database events. For <code class="docutils literal notranslate"><span class="pre">longpoll</span></code> and
<code class="docutils literal notranslate"><span class="pre">continuous</span></code> modes, the entire response is the contents of the
<code class="docutils literal notranslate"><span class="pre">results</span></code> array.</p></li>
<li><p><strong>last_seq</strong> (<em>string</em>) – The last sequence ID reported.</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – CouchDB Server Administrator privileges required</p></li>
</ul>
</dd>
</dl>
<p>The <code class="docutils literal notranslate"><span class="pre">results</span></code> field of database updates:</p>
<dl class="field-list simple">
<dt class="field-odd">JSON Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db_name</strong> (<em>string</em>) – Database name.</p></li>
<li><p><strong>type</strong> (<em>string</em>) – A database event is one of <code class="docutils literal notranslate"><span class="pre">created</span></code>, <code class="docutils literal notranslate"><span class="pre">updated</span></code>,
<code class="docutils literal notranslate"><span class="pre">deleted</span></code>.</p></li>
<li><p><strong>seq</strong> (<em>json</em>) – Update sequence of the event.</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_db_updates</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sat, 18 Mar 2017 19:01:35 GMT</span>
<span class="na">Etag</span><span class="o">:</span> <span class="l">&quot;C1KU98Y6H0LGM7EQQYL6VSL07&quot;</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB/2.0.0 (Erlang OTP/17)</span>
<span class="na">Transfer-Encoding</span><span class="o">:</span> <span class="l">chunked</span>
<span class="na">X-Couch-Request-ID</span><span class="o">:</span> <span class="l">ad87efc7ff</span>
<span class="na">X-CouchDB-Body-Time</span><span class="o">:</span> <span class="l">0</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;results&quot;</span><span class="p">:[</span>
<span class="w">        </span><span class="p">{</span><span class="nt">&quot;db_name&quot;</span><span class="p">:</span><span class="s2">&quot;mailbox&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;created&quot;</span><span class="p">,</span><span class="nt">&quot;seq&quot;</span><span class="p">:</span><span class="s2">&quot;1-g1AAAAFReJzLYWBg4MhgTmHgzcvPy09JdcjLz8gvLskBCjMlMiTJ____PyuDOZExFyjAnmJhkWaeaIquGIf2JAUgmWQPMiGRAZcaB5CaePxqEkBq6vGqyWMBkgwNQAqobD4h&quot;</span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="nt">&quot;db_name&quot;</span><span class="p">:</span><span class="s2">&quot;mailbox&quot;</span><span class="p">,</span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="s2">&quot;deleted&quot;</span><span class="p">,</span><span class="nt">&quot;seq&quot;</span><span class="p">:</span><span class="s2">&quot;2-g1AAAAFReJzLYWBg4MhgTmHgzcvPy09JdcjLz8gvLskBCjMlMiTJ____PyuDOZEpFyjAnmJhkWaeaIquGIf2JAUgmWQPMiGRAZcaB5CaePxqEkBq6vGqyWMBkgwNQAqobD4hdQsg6vYTUncAou4-IXUPIOpA7ssCAIFHa60&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;last_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2-g1AAAAFReJzLYWBg4MhgTmHgzcvPy09JdcjLz8gvLskBCjMlMiTJ____PyuDOZEpFyjAnmJhkWaeaIquGIf2JAUgmWQPMiGRAZcaB5CaePxqEkBq6vGqyWMBkgwNQAqobD4hdQsg6vYTUncAou4-IXUPIOpA7ssCAIFHa60&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="membership">
<span id="api-server-membership"></span><h1><span class="section-number">1.2.7. </span><code class="docutils literal notranslate"><span class="pre">/_membership</span></code><a class="headerlink" href="#membership" title="Permalink to this heading">¶</a></h1>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<dl class="http get">
<dt class="sig sig-object http" id="get--_membership">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_membership</span></span><a class="headerlink" href="#get--_membership" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the nodes that are part of the cluster as <code class="docutils literal notranslate"><span class="pre">cluster_nodes</span></code>. The
field <code class="docutils literal notranslate"><span class="pre">all_nodes</span></code> displays all nodes this node knows about, including the
ones that are part of the cluster. The endpoint is useful when setting up a
cluster, see <a class="reference internal" href="../../cluster/nodes.html#cluster-nodes"><span class="std std-ref">Node Management</span></a></p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain; charset=utf-8</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_membership</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sat, 11 Jul 2015 07:02:41 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">142</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;all_nodes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;node1@127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;node2@127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;node3@127.0.0.1&quot;</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;cluster_nodes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;node1@127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;node2@127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;node3@127.0.0.1&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="replicate">
<span id="api-server-replicate"></span><h1><span class="section-number">1.2.8. </span><code class="docutils literal notranslate"><span class="pre">/_replicate</span></code><a class="headerlink" href="#replicate" title="Permalink to this heading">¶</a></h1>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.3: </span>Added <cite>“bulk_get_attempts”</cite> and <cite>“bulk_get_docs”</cite>  fields to the replication history response object.</p>
</div>
<dl class="http post">
<dt class="sig sig-object http" id="post--_replicate">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/_replicate</span></span><a class="headerlink" href="#post--_replicate" title="Permalink to this definition">¶</a></dt>
<dd><p>Request, configure, or stop, a replication operation.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain</em></p></li>
</ul>
</p></li>
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <em class="mimetype">application/json</em></p></li>
</ul>
</dd>
<dt class="field-even">Request JSON Object<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>cancel</strong> (<em>boolean</em>) – Cancels the replication</p></li>
<li><p><strong>continuous</strong> (<em>boolean</em>) – Configure the replication to be continuous</p></li>
<li><p><strong>create_target</strong> (<em>boolean</em>) – Creates the target database.
Required administrator’s privileges on target server.</p></li>
<li><p><strong>create_target_params</strong> (<em>object</em>) – An object that contains parameters
to be used when creating the target database. Can include the
standard <code class="docutils literal notranslate"><span class="pre">q</span></code> and <code class="docutils literal notranslate"><span class="pre">n</span></code> parameters.</p></li>
<li><p><strong>winning_revs_only</strong> (<em>boolean</em>) – Replicate winning revisions only.</p></li>
<li><p><strong>doc_ids</strong> (<em>array</em>) – Array of document IDs to be synchronized.
<code class="docutils literal notranslate"><span class="pre">doc_ids</span></code>, <code class="docutils literal notranslate"><span class="pre">filter</span></code>, and <code class="docutils literal notranslate"><span class="pre">selector</span></code> are mutually exclusive.</p></li>
<li><p><strong>filter</strong> (<em>string</em>) – The name of a <a class="reference internal" href="../../ddocs/ddocs.html#filterfun"><span class="std std-ref">filter function</span></a>.
<code class="docutils literal notranslate"><span class="pre">doc_ids</span></code>, <code class="docutils literal notranslate"><span class="pre">filter</span></code>, and <code class="docutils literal notranslate"><span class="pre">selector</span></code> are mutually exclusive.</p></li>
<li><p><strong>selector</strong> (<em>json</em>) – A <a class="reference internal" href="../database/find.html#find-selectors"><span class="std std-ref">selector</span></a> to filter
documents for synchronization. Has the same behavior as the
<a class="reference internal" href="../../replication/replicator.html#selectorobj"><span class="std std-ref">selector objects</span></a> in replication documents.
<code class="docutils literal notranslate"><span class="pre">doc_ids</span></code>, <code class="docutils literal notranslate"><span class="pre">filter</span></code>, and <code class="docutils literal notranslate"><span class="pre">selector</span></code> are mutually exclusive.</p></li>
<li><p><strong>source_proxy</strong> (<em>string</em>) – Address of a proxy server through which
replication from the source should occur (protocol can be “http” or
“socks5”)</p></li>
<li><p><strong>target_proxy</strong> (<em>string</em>) – Address of a proxy server through which
replication to the target should occur (protocol can be “http” or
“socks5”)</p></li>
<li><p><strong>source</strong> (<em>string/object</em>) – Fully qualified source database URL or an
object which contains the full URL of the source database with additional
parameters like headers. Eg: ‘<a class="reference external" href="http://example.com/source_db_name">http://example.com/source_db_name</a>’ or
{“url”:”url in here”, “headers”: {“header1”:”value1”, …}} . For
backwards compatibility, CouchDB 3.x will auto-convert bare database
names by prepending the address and port CouchDB is listening on, to
form a complete URL. This behaviour is deprecated in 3.x and will be
removed in CouchDB 4.0.</p></li>
<li><p><strong>target</strong> (<em>string/object</em>) – Fully qualified target database URL or an
object which contains the full URL of the target database with additional
parameters like headers. Eg: ‘<a class="reference external" href="http://example.com/target_db_name">http://example.com/target_db_name</a>’ or
{“url”:”url in here”, “headers”: {“header1”:”value1”, …}} . For
backwards compatibility, CouchDB 3.x will auto-convert bare database
names by prepending the address and port CouchDB is listening on, to
form a complete URL. This behaviour is deprecated in 3.x and will be
removed in CouchDB 4.0.</p></li>
</ul>
</dd>
<dt class="field-odd">Response Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain; charset=utf-8</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>history</strong> (<em>array</em>) – Replication history (see below)</p></li>
<li><p><strong>ok</strong> (<em>boolean</em>) – Replication status</p></li>
<li><p><strong>replication_id_version</strong> (<em>number</em>) – Replication protocol version</p></li>
<li><p><strong>session_id</strong> (<em>string</em>) – Unique session ID</p></li>
<li><p><strong>source_last_seq</strong> (<em>number</em>) – Last sequence number read from source
database</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Replication request successfully completed</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.3">202 Accepted</a></span> – Continuous replication request has been accepted</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – Invalid JSON data</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – CouchDB Server Administrator privileges required</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a></span> – Either the source or target DB is not found or attempt to
cancel unknown replication task</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.1">500 Internal Server Error</a></span> – JSON specification was invalid</p></li>
</ul>
</dd>
</dl>
<p>The specification of the replication request is controlled through the
JSON content of the request. The JSON should be an object with the
fields defining the source, target and other options.</p>
<p>The <cite>Replication history</cite> is an array of objects with following structure:</p>
<dl class="field-list simple">
<dt class="field-odd">JSON Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>doc_write_failures</strong> (<em>number</em>) – Number of document write failures</p></li>
<li><p><strong>docs_read</strong> (<em>number</em>) – Number of documents read</p></li>
<li><p><strong>docs_written</strong> (<em>number</em>) – Number of documents written to target</p></li>
<li><p><strong>bulk_get_attempts</strong> (<em>number</em>) – The total count of attempted doc revisions
fetched with <code class="docutils literal notranslate"><span class="pre">_bulk_get</span></code>.</p></li>
<li><p><strong>bulk_get_docs</strong> (<em>number</em>) – The total count of successful docs fetched with
<code class="docutils literal notranslate"><span class="pre">_bulk_get</span></code>.</p></li>
<li><p><strong>end_last_seq</strong> (<em>number</em>) – Last sequence number in changes stream</p></li>
<li><p><strong>end_time</strong> (<em>string</em>) – Date/Time replication operation completed in
<span class="target" id="index-0"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2822.html"><strong>RFC 2822</strong></a> format</p></li>
<li><p><strong>missing_checked</strong> (<em>number</em>) – Number of missing documents checked</p></li>
<li><p><strong>missing_found</strong> (<em>number</em>) – Number of missing documents found</p></li>
<li><p><strong>recorded_seq</strong> (<em>number</em>) – Last recorded sequence number</p></li>
<li><p><strong>session_id</strong> (<em>string</em>) – Session ID for this replication operation</p></li>
<li><p><strong>start_last_seq</strong> (<em>number</em>) – First sequence number in changes stream</p></li>
<li><p><strong>start_time</strong> (<em>string</em>) – Date/Time replication operation started in
<span class="target" id="index-1"></span><a class="rfc reference external" href="https://datatracker.ietf.org/doc/html/rfc2822.html"><strong>RFC 2822</strong></a> format</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As of CouchDB 2.0.0, fully qualified URLs are required for both the
replication <code class="docutils literal notranslate"><span class="pre">source</span></code> and <code class="docutils literal notranslate"><span class="pre">target</span></code> parameters.</p>
<p><strong>Request</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/_replicate</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">80</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://127.0.0.1:5984/db_a&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://127.0.0.1:5984/db_b&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Response</strong></p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">692</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sun, 11 Aug 2013 20:38:50 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;history&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;doc_write_failures&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;docs_read&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;bulk_get_attempts&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;bulk_get_docs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;docs_written&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;end_last_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;end_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sun, 11 Aug 2013 20:38:50 GMT&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;missing_checked&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;missing_found&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;recorded_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;session_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;142a35854a08e205c47174d91b1f9628&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;start_last_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sun, 11 Aug 2013 20:38:50 GMT&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;doc_write_failures&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;docs_read&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;bulk_get_attempts&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;bulk_get_docs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;docs_written&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;end_last_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;end_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sat, 10 Aug 2013 15:41:54 GMT&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;missing_checked&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;missing_found&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;recorded_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;session_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;6314f35c51de3ac408af79d6ee0c1a09&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;start_last_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sat, 10 Aug 2013 15:41:54 GMT&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;ok&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;replication_id_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;session_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;142a35854a08e205c47174d91b1f9628&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;source_last_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<section id="replication-operation">
<h2><span class="section-number">1.2.8.1. </span>Replication Operation<a class="headerlink" href="#replication-operation" title="Permalink to this heading">¶</a></h2>
<p>The aim of the replication is that at the end of the process, all active
documents on the source database are also in the destination database and all
documents that were deleted in the source databases are also deleted (if they
exist) on the destination database.</p>
<p>Replication can be described as either push or pull replication:</p>
<ul>
<li><p><em>Pull replication</em> is where the <code class="docutils literal notranslate"><span class="pre">source</span></code> is the remote CouchDB instance,
and the <code class="docutils literal notranslate"><span class="pre">target</span></code> is the local database.</p>
<p>Pull replication is the most useful solution to use if your source database
has a permanent IP address, and your destination (local) database may have a
dynamically assigned IP address (for example, through DHCP). This is
particularly important if you are replicating to a mobile or other device
from a central server.</p>
</li>
<li><p><em>Push replication</em> is where the <code class="docutils literal notranslate"><span class="pre">source</span></code> is a local database, and
<code class="docutils literal notranslate"><span class="pre">target</span></code> is a remote database.</p></li>
</ul>
</section>
<section id="specifying-the-source-and-target-database">
<h2><span class="section-number">1.2.8.2. </span>Specifying the Source and Target Database<a class="headerlink" href="#specifying-the-source-and-target-database" title="Permalink to this heading">¶</a></h2>
<p>You must use the URL specification of the CouchDB database if you want to
perform replication in either of the following two situations:</p>
<ul class="simple">
<li><p>Replication with a remote database (i.e. another instance of CouchDB on the
same host, or a different host)</p></li>
<li><p>Replication with a database that requires authentication</p></li>
</ul>
<p>For example, to request replication between a database local to the CouchDB
instance to which you send the request, and a remote database you might use the
following request:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">http://couchdb:5984/_replicate</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;source&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recipes&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;target&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://coucdb-remote:5984/recipes&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In all cases, the requested databases in the <code class="docutils literal notranslate"><span class="pre">source</span></code> and <code class="docutils literal notranslate"><span class="pre">target</span></code>
specification must exist. If they do not, an error will be returned within the
JSON object:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;error&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;db_not_found&quot;</span>
<span class="w">    </span><span class="s2">&quot;reason&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;could not open http://couchdb-remote:5984/ol1ka/&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>You can create the target database (providing your user credentials allow it)
by adding the <code class="docutils literal notranslate"><span class="pre">create_target</span></code> field to the request object:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">http://couchdb:5984/_replicate</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;create_target&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="nt">&quot;source&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recipes&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;target&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://couchdb-remote:5984/recipes&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">create_target</span></code> field is not destructive. If the database already
exists, the replication proceeds as normal.</p>
</section>
<section id="single-replication">
<h2><span class="section-number">1.2.8.3. </span>Single Replication<a class="headerlink" href="#single-replication" title="Permalink to this heading">¶</a></h2>
<p>You can request replication of a database so that the two databases can be
synchronized. By default, the replication process occurs one time and
synchronizes the two databases together. For example, you can request a single
synchronization between two databases by supplying the <code class="docutils literal notranslate"><span class="pre">source</span></code> and
<code class="docutils literal notranslate"><span class="pre">target</span></code> fields within the request JSON content.</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">http://couchdb:5984/_replicate</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;source&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recipes&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;target&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recipes-snapshot&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the above example, the databases <code class="docutils literal notranslate"><span class="pre">recipes</span></code> and <code class="docutils literal notranslate"><span class="pre">recipes-snapshot</span></code> will
be synchronized. These databases are local to the CouchDB instance where the
request was made. The response will be a JSON structure containing the success
(or failure) of the synchronization process, and statistics about the process:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;ok&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;history&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="s2">&quot;docs_read&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">1000</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;bulk_get_attempts&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">1000</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;bulk_get_docs&quot;</span><span class="o">:</span><span class="w"> </span><span class="mf">1000</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;session_id&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;52c2370f5027043d286daca4de247db0&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;recorded_seq&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">1000</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;end_last_seq&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">1000</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;doc_write_failures&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;start_time&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Thu, 28 Oct 2010 10:24:13 GMT&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;start_last_seq&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;end_time&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Thu, 28 Oct 2010 10:24:14 GMT&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;missing_checked&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;docs_written&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">1000</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;missing_found&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">1000</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="s2">&quot;session_id&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;52c2370f5027043d286daca4de247db0&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="s2">&quot;source_last_seq&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mf">1000</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="continuous-replication">
<h2><span class="section-number">1.2.8.4. </span>Continuous Replication<a class="headerlink" href="#continuous-replication" title="Permalink to this heading">¶</a></h2>
<p>Synchronization of a database with the previously noted methods happens only
once, at the time the replicate request is made. To have the target database
permanently replicated from the source, you must set the <code class="docutils literal notranslate"><span class="pre">continuous</span></code> field
of the JSON object within the request to true.</p>
<p>With continuous replication changes in the source database are replicated to
the target database in perpetuity until you specifically request that
replication ceases.</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">http://couchdb:5984/_replicate</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;continuous&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="nt">&quot;source&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recipes&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;target&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://couchdb-remote:5984/recipes&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Changes will be replicated between the two databases as long as a network
connection is available between the two instances.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Two keep two databases synchronized with each other, you need to set
replication in both directions; that is, you must replicate from <code class="docutils literal notranslate"><span class="pre">source</span></code>
to <code class="docutils literal notranslate"><span class="pre">target</span></code>, and separately from <code class="docutils literal notranslate"><span class="pre">target</span></code> to <code class="docutils literal notranslate"><span class="pre">source</span></code>.</p>
</div>
</section>
<section id="canceling-continuous-replication">
<h2><span class="section-number">1.2.8.5. </span>Canceling Continuous Replication<a class="headerlink" href="#canceling-continuous-replication" title="Permalink to this heading">¶</a></h2>
<p>You can cancel continuous replication by adding the <code class="docutils literal notranslate"><span class="pre">cancel</span></code> field to the
JSON request object and setting the value to true. Note that the structure of
the request must be identical to the original for the cancellation request to
be honoured. For example, if you requested continuous replication, the
cancellation request must also contain the <code class="docutils literal notranslate"><span class="pre">continuous</span></code> field.</p>
<p>For example, the replication request:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">http://couchdb:5984/_replicate</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;source&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recipes&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;target&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://couchdb-remote:5984/recipes&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;create_target&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;continuous&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Must be canceled using the request:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">http://couchdb:5984/_replicate</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;cancel&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;continuous&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="nt">&quot;create_target&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;source&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recipes&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;target&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://couchdb-remote:5984/recipes&quot;</span><span class="p">,</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Requesting cancellation of a replication that does not exist results in a 404
error.</p>
</section>
</section>
<section id="scheduler-jobs">
<span id="api-server-scheduler-jobs"></span><h1><span class="section-number">1.2.9. </span><code class="docutils literal notranslate"><span class="pre">/_scheduler/jobs</span></code><a class="headerlink" href="#scheduler-jobs" title="Permalink to this heading">¶</a></h1>
<dl class="http get">
<dt class="sig sig-object http" id="get--_scheduler-jobs">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_scheduler/jobs</span></span><a class="headerlink" href="#get--_scheduler-jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>List of replication jobs. Includes replications created via
<a class="reference internal" href="#api-server-replicate"><span class="std std-ref">/_replicate</span></a> endpoint as well as those created from
replication documents. Does not include replications which have completed
or have failed to start because replication documents were malformed. Each
job description will include source and target information, replication id,
a history of recent event, and a few other things.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Query Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>limit</strong> (<em>number</em>) – How many results to return</p></li>
<li><p><strong>skip</strong> (<em>number</em>) – How many result to skip starting at the beginning,
ordered by replication ID</p></li>
</ul>
</dd>
<dt class="field-even">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>offset</strong> (<em>number</em>) – How many results were skipped</p></li>
<li><p><strong>total_rows</strong> (<em>number</em>) – Total number of replication jobs</p></li>
<li><p><strong>id</strong> (<em>string</em>) – Replication ID.</p></li>
<li><p><strong>database</strong> (<em>string</em>) – Replication document database</p></li>
<li><p><strong>doc_id</strong> (<em>string</em>) – Replication document ID</p></li>
<li><p><strong>history</strong> (<em>list</em>) – Timestamped history of events as a list of objects</p></li>
<li><p><strong>pid</strong> (<em>string</em>) – Replication process ID</p></li>
<li><p><strong>node</strong> (<em>string</em>) – Cluster node where the job is running</p></li>
<li><p><strong>source</strong> (<em>string</em>) – Replication source</p></li>
<li><p><strong>target</strong> (<em>string</em>) – Replication target</p></li>
<li><p><strong>start_time</strong> (<em>string</em>) – Timestamp of when the replication was started</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – CouchDB Server Administrator privileges required</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_scheduler/jobs</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">1690</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sat, 29 Apr 2017 05:05:16 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;jobs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;database&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;_replicator&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;doc_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cdyno-0000001-0000003&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;history&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-04-29T05:01:37Z&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;started&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-04-29T05:01:37Z&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;added&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8f5b1bd0be6f9166ccfd36fc8be8fc22+continuous&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;changes_pending&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;checkpointed_source_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;113-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQiQ1L9____szKYE01ygQLsZsYGqcamiZjKcRqRxwIkGRqA1H-oSbZgk1KMLCzTDE0wdWUBAF6HJIQ&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;doc_write_failures&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;docs_read&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">113</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;docs_written&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">113</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;bulk_get_attempts&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">113</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;bulk_get_docs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">113</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;missing_revisions_found&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">113</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;revisions_checked&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">113</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;source_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;113-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQiQ1L9____szKYE01ygQLsZsYGqcamiZjKcRqRxwIkGRqA1H-oSbZgk1KMLCzTDE0wdWUBAF6HJIQ&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;through_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;113-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQiQ1L9____szKYE01ygQLsZsYGqcamiZjKcRqRxwIkGRqA1H-oSbZgk1KMLCzTDE0wdWUBAF6HJIQ&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node1@127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;pid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;0.1850.0&gt;&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://myserver.com/foo&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-04-29T05:01:37Z&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://adm:*****@localhost:15984/cdyno-0000003/&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;user&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;database&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;_replicator&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;doc_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cdyno-0000001-0000002&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;history&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-04-29T05:01:37Z&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;started&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-04-29T05:01:37Z&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;added&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e327d79214831ca4c11550b4a453c9ba+continuous&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;changes_pending&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;checkpointed_source_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;doc_write_failures&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;docs_read&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;docs_written&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;bulk_get_attempts&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;bulk_get_docs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;missing_revisions_found&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;revisions_checked&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;source_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;12-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQiQ1L9____szKYE1lzgQLsBsZm5pZJJpjKcRqRxwIkGRqA1H-oSexgk4yMkhITjS0wdWUBADfEJBg&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;through_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;12-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQiQ1L9____szKYE1lzgQLsBsZm5pZJJpjKcRqRxwIkGRqA1H-oSexgk4yMkhITjS0wdWUBADfEJBg&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node2@127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;pid&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&lt;0.1757.0&gt;&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://myserver.com/foo&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-04-29T05:01:37Z&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://adm:*****@localhost:15984/cdyno-0000002/&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;user&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;total_rows&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="scheduler-docs">
<span id="api-server-scheduler-docs"></span><h1><span class="section-number">1.2.10. </span><code class="docutils literal notranslate"><span class="pre">/_scheduler/docs</span></code><a class="headerlink" href="#scheduler-docs" title="Permalink to this heading">¶</a></h1>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 2.1.0: </span>Use this endpoint to monitor the state of
document-based replications. Previously needed to poll both
documents and <code class="docutils literal notranslate"><span class="pre">_active_tasks</span></code> to get a complete state
summary</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.0.0: </span>In error states the <cite>“info”</cite> field switched
from being a string to being an object</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 3.3: </span>Added <cite>“bulk_get_attempts”</cite> and <cite>“bulk_get_docs”</cite> the
<cite>“info”</cite> object.</p>
</div>
<dl class="http get">
<dt class="sig sig-object http" id="get--_scheduler-docs">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_scheduler/docs</span></span><a class="headerlink" href="#get--_scheduler-docs" title="Permalink to this definition">¶</a></dt>
<dd><p>List of replication document states. Includes information about all the
documents, even in <code class="docutils literal notranslate"><span class="pre">completed</span></code> and <code class="docutils literal notranslate"><span class="pre">failed</span></code> states. For each document
it returns the document ID, the database, the replication ID, source and
target, and other information.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Query Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>limit</strong> (<em>number</em>) – How many results to return</p></li>
<li><p><strong>skip</strong> (<em>number</em>) – How many result to skip starting at the beginning, if
ordered by document ID</p></li>
</ul>
</dd>
<dt class="field-even">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>offset</strong> (<em>number</em>) – How many results were skipped</p></li>
<li><p><strong>total_rows</strong> (<em>number</em>) – Total number of replication documents.</p></li>
<li><p><strong>id</strong> (<em>string</em>) – Replication ID, or <code class="docutils literal notranslate"><span class="pre">null</span></code> if state is <code class="docutils literal notranslate"><span class="pre">completed</span></code> or
<code class="docutils literal notranslate"><span class="pre">failed</span></code></p></li>
<li><p><strong>state</strong> (<em>string</em>) – One of following states (see <a class="reference internal" href="../../replication/replicator.html#replicator-states"><span class="std std-ref">Replication states</span></a>
for descriptions): <code class="docutils literal notranslate"><span class="pre">initializing</span></code>, <code class="docutils literal notranslate"><span class="pre">running</span></code>,
<code class="docutils literal notranslate"><span class="pre">completed</span></code>, <code class="docutils literal notranslate"><span class="pre">pending</span></code>, <code class="docutils literal notranslate"><span class="pre">crashing</span></code>, <code class="docutils literal notranslate"><span class="pre">error</span></code>,
<code class="docutils literal notranslate"><span class="pre">failed</span></code></p></li>
<li><p><strong>database</strong> (<em>string</em>) – Database where replication document came from</p></li>
<li><p><strong>doc_id</strong> (<em>string</em>) – Replication document ID</p></li>
<li><p><strong>node</strong> (<em>string</em>) – Cluster node where the job is running</p></li>
<li><p><strong>source</strong> (<em>string</em>) – Replication source</p></li>
<li><p><strong>target</strong> (<em>string</em>) – Replication target</p></li>
<li><p><strong>start_time</strong> (<em>string</em>) – Timestamp of when the replication was started</p></li>
<li><p><strong>last_updated</strong> (<em>string</em>) – Timestamp of last state update</p></li>
<li><p><strong>info</strong> (<em>object</em>) – Will contain additional information about the
state. For errors, this will be an object with
an <code class="docutils literal notranslate"><span class="pre">&quot;error&quot;</span></code> field and string value. For
success states, see below.</p></li>
<li><p><strong>error_count</strong> (<em>number</em>) – Consecutive errors count. Indicates how many
times in a row this replication has crashed.
Replication will be retried with an exponential
backoff based on this number. As soon as the
replication succeeds this count is reset to 0.
To can be used to get an idea why a particular
replication is not making progress.</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – CouchDB Server Administrator privileges required</p></li>
</ul>
</dd>
</dl>
<p>The <code class="docutils literal notranslate"><span class="pre">info</span></code> field of a scheduler doc:</p>
<dl class="field-list simple">
<dt class="field-odd">JSON Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>revisions_checked</strong> (<em>number</em>) – The count of revisions which have been
checked since this replication began.</p></li>
<li><p><strong>missing_revisions_found</strong> (<em>number</em>) – The count of revisions which were
found on the source, but missing from the target.</p></li>
<li><p><strong>docs_read</strong> (<em>number</em>) – The count of docs which have been read from the
source.</p></li>
<li><p><strong>docs_written</strong> (<em>number</em>) – The count of docs which have been written to the
target.</p></li>
<li><p><strong>bulk_get_attempts</strong> (<em>number</em>) – The total count of attempted doc revisions
fetched with <code class="docutils literal notranslate"><span class="pre">_bulk_get</span></code>.</p></li>
<li><p><strong>bulk_get_docs</strong> (<em>number</em>) – The total count of successful docs fetched with
<code class="docutils literal notranslate"><span class="pre">_bulk_get</span></code>.</p></li>
<li><p><strong>changes_pending</strong> (<em>number</em>) – The count of changes not yet replicated.</p></li>
<li><p><strong>doc_write_failures</strong> (<em>number</em>) – The count of docs which failed to be
written to the target.</p></li>
<li><p><strong>checkpointed_source_seq</strong> (<em>object</em>) – The source sequence id which was last
successfully replicated.</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_scheduler/docs</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sat, 29 Apr 2017 05:10:08 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">Server: CouchDB (Erlang/OTP)</span>
<span class="na">Transfer-Encoding</span><span class="o">:</span> <span class="l">chunked</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;docs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;database&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;_replicator&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;doc_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cdyno-0000001-0000002&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;error_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e327d79214831ca4c11550b4a453c9ba+continuous&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;changes_pending&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;checkpointed_source_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;60-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQiQ1L9____szKYEyVygQLsBsZm5pZJJpjKcRqRxwIkGRqA1H-oSSpgk4yMkhITjS0wdWUBAENCJEg&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;doc_write_failures&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;docs_read&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;bulk_get_attempts&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;bulk_get_docs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;docs_written&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;missing_revisions_found&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;revisions_checked&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;source_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;67-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQiQ1L9____szKYE2VygQLsBsZm5pZJJpjKcRqRxwIkGRqA1H-oSepgk4yMkhITjS0wdWUBAEVKJE8&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;through_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;67-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQiQ1L9____szKYE2VygQLsBsZm5pZJJpjKcRqRxwIkGRqA1H-oSepgk4yMkhITjS0wdWUBAEVKJE8&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;last_updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-04-29T05:01:37Z&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node2@127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;source_proxy&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;target_proxy&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://myserver.com/foo&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-04-29T05:01:37Z&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;running&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://adm:*****@localhost:15984/cdyno-0000002/&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;database&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;_replicator&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;doc_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cdyno-0000001-0000003&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;error_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8f5b1bd0be6f9166ccfd36fc8be8fc22+continuous&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;changes_pending&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;checkpointed_source_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;doc_write_failures&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;bulk_get_attempts&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;bulk_get_docs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;docs_read&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;docs_written&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;missing_revisions_found&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;revisions_checked&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;source_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;12-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQiQ1L9____szKYE1lzgQLsBsZm5pZJJpjKcRqRxwIkGRqA1H-oSexgk4yMkhITjS0wdWUBADfEJBg&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;through_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;12-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQiQ1L9____szKYE1lzgQLsBsZm5pZJJpjKcRqRxwIkGRqA1H-oSexgk4yMkhITjS0wdWUBADfEJBg&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;last_updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-04-29T05:01:37Z&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node1@127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;source_proxy&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;target_proxy&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://myserver.com/foo&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-04-29T05:01:37Z&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;running&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://adm:*****@localhost:15984/cdyno-0000003/&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;total_rows&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http get">
<dt class="sig sig-object http" id="get--_scheduler-docs-replicator_db">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_scheduler/docs/{replicator_db}</span></span><a class="headerlink" href="#get--_scheduler-docs-replicator_db" title="Permalink to this definition">¶</a></dt>
<dd><p>Get information about replication documents from a replicator database.
The default replicator database is <code class="docutils literal notranslate"><span class="pre">_replicator</span></code> but other replicator
databases can exist if their name ends with the suffix <code class="docutils literal notranslate"><span class="pre">/_replicator</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As a convenience slashes (<code class="docutils literal notranslate"><span class="pre">/</span></code>) in replicator db names do not
have to be escaped. So <code class="docutils literal notranslate"><span class="pre">/_scheduler/docs/other/_replicator</span></code> is valid
and equivalent to <code class="docutils literal notranslate"><span class="pre">/_scheduler/docs/other%2f_replicator</span></code></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Query Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>limit</strong> (<em>number</em>) – How many results to return</p></li>
<li><p><strong>skip</strong> (<em>number</em>) – How many result to skip starting at the beginning, if
ordered by document ID</p></li>
</ul>
</dd>
<dt class="field-even">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>offset</strong> (<em>number</em>) – How many results were skipped</p></li>
<li><p><strong>total_rows</strong> (<em>number</em>) – Total number of replication documents.</p></li>
<li><p><strong>id</strong> (<em>string</em>) – Replication ID, or <code class="docutils literal notranslate"><span class="pre">null</span></code> if state is <code class="docutils literal notranslate"><span class="pre">completed</span></code> or
<code class="docutils literal notranslate"><span class="pre">failed</span></code></p></li>
<li><p><strong>state</strong> (<em>string</em>) – One of following states (see <a class="reference internal" href="../../replication/replicator.html#replicator-states"><span class="std std-ref">Replication states</span></a>
for descriptions): <code class="docutils literal notranslate"><span class="pre">initializing</span></code>, <code class="docutils literal notranslate"><span class="pre">running</span></code>,
<code class="docutils literal notranslate"><span class="pre">completed</span></code>, <code class="docutils literal notranslate"><span class="pre">pending</span></code>, <code class="docutils literal notranslate"><span class="pre">crashing</span></code>, <code class="docutils literal notranslate"><span class="pre">error</span></code>,
<code class="docutils literal notranslate"><span class="pre">failed</span></code></p></li>
<li><p><strong>database</strong> (<em>string</em>) – Database where replication document came from</p></li>
<li><p><strong>doc_id</strong> (<em>string</em>) – Replication document ID</p></li>
<li><p><strong>node</strong> (<em>string</em>) – Cluster node where the job is running</p></li>
<li><p><strong>source</strong> (<em>string</em>) – Replication source</p></li>
<li><p><strong>target</strong> (<em>string</em>) – Replication target</p></li>
<li><p><strong>start_time</strong> (<em>string</em>) – Timestamp of when the replication was started</p></li>
<li><p><strong>last_update</strong> (<em>string</em>) – Timestamp of last state update</p></li>
<li><p><strong>info</strong> (<em>object</em>) – Will contain additional information about the
state. For errors, this will be an object with
an <code class="docutils literal notranslate"><span class="pre">&quot;error&quot;</span></code> field and string value. For
success states, see below.</p></li>
<li><p><strong>error_count</strong> (<em>number</em>) – Consecutive errors count. Indicates how many
times in a row this replication has crashed.
Replication will be retried with an exponential
backoff based on this number. As soon as the
replication succeeds this count is reset to 0.
To can be used to get an idea why a particular
replication is not making progress.</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – CouchDB Server Administrator privileges required</p></li>
</ul>
</dd>
</dl>
<p>The <code class="docutils literal notranslate"><span class="pre">info</span></code> field of a scheduler doc:</p>
<dl class="field-list simple">
<dt class="field-odd">JSON Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>revisions_checked</strong> (<em>number</em>) – The count of revisions which have been
checked since this replication began.</p></li>
<li><p><strong>missing_revisions_found</strong> (<em>number</em>) – The count of revisions which were
found on the source, but missing from the target.</p></li>
<li><p><strong>docs_read</strong> (<em>number</em>) – The count of docs which have been read from the
source.</p></li>
<li><p><strong>docs_written</strong> (<em>number</em>) – The count of docs which have been written to the
target.</p></li>
<li><p><strong>bulk_get_attempts</strong> (<em>number</em>) – The total count of attempted doc revisions
fetched with <code class="docutils literal notranslate"><span class="pre">_bulk_get</span></code>.</p></li>
<li><p><strong>bulk_get_docs</strong> (<em>number</em>) – The total count of successful docs fetched with
<code class="docutils literal notranslate"><span class="pre">_bulk_get</span></code>.</p></li>
<li><p><strong>changes_pending</strong> (<em>number</em>) – The count of changes not yet replicated.</p></li>
<li><p><strong>doc_write_failures</strong> (<em>number</em>) – The count of docs which failed to be
written to the target.</p></li>
<li><p><strong>checkpointed_source_seq</strong> (<em>object</em>) – The source sequence id which was last
successfully replicated.</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_scheduler/docs/other/_replicator</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sat, 29 Apr 2017 05:10:08 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">Server: CouchDB (Erlang/OTP)</span>
<span class="na">Transfer-Encoding</span><span class="o">:</span> <span class="l">chunked</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;docs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;database&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;other/_replicator&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;doc_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cdyno-0000001-0000002&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;error_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e327d79214831ca4c11550b4a453c9ba+continuous&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;changes_pending&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;checkpointed_source_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;60-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQiQ1L9____szKYEyVygQLsBsZm5pZJJpjKcRqRxwIkGRqA1H-oSSpgk4yMkhITjS0wdWUBAENCJEg&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;doc_write_failures&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;docs_read&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;bulk_get_attempts&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;bulk_get_docs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;docs_written&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;missing_revisions_found&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;revisions_checked&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;source_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;67-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQiQ1L9____szKYE2VygQLsBsZm5pZJJpjKcRqRxwIkGRqA1H-oSepgk4yMkhITjS0wdWUBAEVKJE8&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="nt">&quot;through_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;67-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQiQ1L9____szKYE2VygQLsBsZm5pZJJpjKcRqRxwIkGRqA1H-oSepgk4yMkhITjS0wdWUBAEVKJE8&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;last_updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-04-29T05:01:37Z&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node2@127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;source_proxy&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;target_proxy&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://myserver.com/foo&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-04-29T05:01:37Z&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;running&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://adm:*****@localhost:15984/cdyno-0000002/&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;total_rows&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http get">
<dt class="sig sig-object http" id="get--_scheduler-docs-replicator_db-docid">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_scheduler/docs/{replicator_db}/{docid}</span></span><a class="headerlink" href="#get--_scheduler-docs-replicator_db-docid" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition note">
<p class="admonition-title">Note</p>
<p>As a convenience slashes (<code class="docutils literal notranslate"><span class="pre">/</span></code>) in replicator db names do not
have to be escaped. So <code class="docutils literal notranslate"><span class="pre">/_scheduler/docs/other/_replicator</span></code> is valid
and equivalent to <code class="docutils literal notranslate"><span class="pre">/_scheduler/docs/other%2f_replicator</span></code></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>string</em>) – Replication ID, or <code class="docutils literal notranslate"><span class="pre">null</span></code> if state is <code class="docutils literal notranslate"><span class="pre">completed</span></code> or
<code class="docutils literal notranslate"><span class="pre">failed</span></code></p></li>
<li><p><strong>state</strong> (<em>string</em>) – One of following states (see <a class="reference internal" href="../../replication/replicator.html#replicator-states"><span class="std std-ref">Replication states</span></a>
for descriptions): <code class="docutils literal notranslate"><span class="pre">initializing</span></code>, <code class="docutils literal notranslate"><span class="pre">running</span></code>,
<code class="docutils literal notranslate"><span class="pre">completed</span></code>, <code class="docutils literal notranslate"><span class="pre">pending</span></code>, <code class="docutils literal notranslate"><span class="pre">crashing</span></code>, <code class="docutils literal notranslate"><span class="pre">error</span></code>,
<code class="docutils literal notranslate"><span class="pre">failed</span></code></p></li>
<li><p><strong>database</strong> (<em>string</em>) – Database where replication document came from</p></li>
<li><p><strong>doc_id</strong> (<em>string</em>) – Replication document ID</p></li>
<li><p><strong>node</strong> (<em>string</em>) – Cluster node where the job is running</p></li>
<li><p><strong>source</strong> (<em>string</em>) – Replication source</p></li>
<li><p><strong>target</strong> (<em>string</em>) – Replication target</p></li>
<li><p><strong>start_time</strong> (<em>string</em>) – Timestamp of when the replication was started</p></li>
<li><p><strong>last_update</strong> (<em>string</em>) – Timestamp of last state update</p></li>
<li><p><strong>info</strong> (<em>object</em>) – Will contain additional information about the
state. For errors, this will be an object with
an <code class="docutils literal notranslate"><span class="pre">&quot;error&quot;</span></code> field and string value. For
success states, see below.</p></li>
<li><p><strong>error_count</strong> (<em>number</em>) – Consecutive errors count. Indicates how many
times in a row this replication has crashed.
Replication will be retried with an exponential
backoff based on this number. As soon as the
replication succeeds this count is reset to 0.
To can be used to get an idea why a particular
replication is not making progress.</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – CouchDB Server Administrator privileges required</p></li>
</ul>
</dd>
</dl>
<p>The <code class="docutils literal notranslate"><span class="pre">info</span></code> field of a scheduler doc:</p>
<dl class="field-list simple">
<dt class="field-odd">JSON Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>revisions_checked</strong> (<em>number</em>) – The count of revisions which have been
checked since this replication began.</p></li>
<li><p><strong>missing_revisions_found</strong> (<em>number</em>) – The count of revisions which were
found on the source, but missing from the target.</p></li>
<li><p><strong>docs_read</strong> (<em>number</em>) – The count of docs which have been read from the
source.</p></li>
<li><p><strong>docs_written</strong> (<em>number</em>) – The count of docs which have been written to the
target.</p></li>
<li><p><strong>bulk_get_attempts</strong> (<em>number</em>) – The total count of attempted doc revisions
fetched with <code class="docutils literal notranslate"><span class="pre">_bulk_get</span></code>.</p></li>
<li><p><strong>bulk_get_docs</strong> (<em>number</em>) – The total count of successful docs fetched with
<code class="docutils literal notranslate"><span class="pre">_bulk_get</span></code>.</p></li>
<li><p><strong>changes_pending</strong> (<em>number</em>) – The count of changes not yet replicated.</p></li>
<li><p><strong>doc_write_failures</strong> (<em>number</em>) – The count of docs which failed to be
written to the target.</p></li>
<li><p><strong>checkpointed_source_seq</strong> (<em>object</em>) – <dl class="simple">
<dt>The source sequence id which was last</dt><dd><p>successfully replicated.</p>
</dd>
</dl>
<p><strong>Request</strong>:</p>
</p></li>
</ul>
</dd>
</dl>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_scheduler/docs/other/_replicator/cdyno-0000001-0000002</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sat, 29 Apr 2017 05:10:08 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">Server: CouchDB (Erlang/OTP)</span>
<span class="na">Transfer-Encoding</span><span class="o">:</span> <span class="l">chunked</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;database&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;other/_replicator&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;doc_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cdyno-0000001-0000002&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;error_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;e327d79214831ca4c11550b4a453c9ba+continuous&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;changes_pending&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;checkpointed_source_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;60-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQiQ1L9____szKYEyVygQLsBsZm5pZJJpjKcRqRxwIkGRqA1H-oSSpgk4yMkhITjS0wdWUBAENCJEg&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;doc_write_failures&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;docs_read&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;bulk_get_attempts&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;bulk_get_docs&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;docs_written&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;missing_revisions_found&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;revisions_checked&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">67</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;source_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;67-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQiQ1L9____szKYE2VygQLsBsZm5pZJJpjKcRqRxwIkGRqA1H-oSepgk4yMkhITjS0wdWUBAEVKJE8&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;through_seq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;67-g1AAAACTeJzLYWBgYMpgTmHgz8tPSTV0MDQy1zMAQsMckEQiQ1L9____szKYE2VygQLsBsZm5pZJJpjKcRqRxwIkGRqA1H-oSepgk4yMkhITjS0wdWUBAEVKJE8&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;last_updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-04-29T05:01:37Z&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node2@127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;source_proxy&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;target_proxy&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://myserver.com/foo&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2017-04-29T05:01:37Z&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;running&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://adm:*****@localhost:15984/cdyno-0000002/&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="node-node-name">
<span id="api-server-name"></span><h1><span class="section-number">1.2.11. </span><code class="docutils literal notranslate"><span class="pre">/_node/{node-name}</span></code><a class="headerlink" href="#node-node-name" title="Permalink to this heading">¶</a></h1>
<dl class="http get">
<dt class="sig sig-object http" id="get--_node-node-name">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_node/{node-name}</span></span><a class="headerlink" href="#get--_node-node-name" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">/_node/{node-name}</span></code> endpoint can be used to confirm the Erlang
node name of the server that processes the request. This is most useful
when accessing <code class="docutils literal notranslate"><span class="pre">/_node/_local</span></code> to retrieve this information. Repeatedly
retrieving this information for a CouchDB endpoint can be useful to determine
if a CouchDB cluster is correctly proxied through a reverse load balancer.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain; charset=utf-8</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_node/_local</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">27</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Tue, 28 Jan 2020 19:25:51 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang OTP)</span>
<span class="na">X-Couch-Request-ID</span><span class="o">:</span> <span class="l">5b8db6c677</span>
<span class="na">X-CouchDB-Body-Time</span><span class="o">:</span> <span class="l">0</span>

<span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;node1@127.0.0.1&quot;</span><span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="node-node-name-stats">
<span id="api-server-stats"></span><h1><span class="section-number">1.2.12. </span><code class="docutils literal notranslate"><span class="pre">/_node/{node-name}/_stats</span></code><a class="headerlink" href="#node-node-name-stats" title="Permalink to this heading">¶</a></h1>
<dl class="http get">
<dt class="sig sig-object http" id="get--_node-node-name-_stats">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_node/{node-name}/_stats</span></span><a class="headerlink" href="#get--_node-node-name-_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">_stats</span></code> resource returns a JSON object containing the statistics
for the running server. The object is structured with top-level sections
collating the statistics for a range of entries, with each individual
statistic being easily identified, and the content of each statistic is
self-describing.</p>
<p>Statistics are sampled internally on a <a class="reference internal" href="../../config/misc.html#config-stats"><span class="std std-ref">configurable interval</span></a>. When monitoring the <code class="docutils literal notranslate"><span class="pre">_stats</span></code> endpoint, you need to use
a polling frequency of at least twice this to observe accurate results.
For example, if the <a class="reference internal" href="../../config/misc.html#config-stats"><span class="std std-ref">interval</span></a> is 10 seconds,
poll <code class="docutils literal notranslate"><span class="pre">_stats</span></code> at least every 5 seconds.</p>
<p>The literal string <code class="docutils literal notranslate"><span class="pre">_local</span></code> serves as an alias for the local node name, so
for all stats URLs, <code class="docutils literal notranslate"><span class="pre">{node-name}</span></code> may be replaced with <code class="docutils literal notranslate"><span class="pre">_local</span></code>, to
interact with the local node’s statistics.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain; charset=utf-8</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_node/_local/_stats/couchdb/request_time</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">187</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sat, 10 Aug 2013 11:41:11 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>

<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;min&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;arithmetic_mean&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;geometric_mean&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;harmonic_mean&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;median&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;variance&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;standard_deviation&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;skewness&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;kurtosis&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;percentile&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">[</span>
<span class="w">        </span><span class="mi">50</span><span class="p">,</span>
<span class="w">        </span><span class="mi">0</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span>
<span class="w">        </span><span class="mi">75</span><span class="p">,</span>
<span class="w">        </span><span class="mi">0</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span>
<span class="w">        </span><span class="mi">90</span><span class="p">,</span>
<span class="w">        </span><span class="mi">0</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span>
<span class="w">        </span><span class="mi">95</span><span class="p">,</span>
<span class="w">        </span><span class="mi">0</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span>
<span class="w">        </span><span class="mi">99</span><span class="p">,</span>
<span class="w">        </span><span class="mi">0</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="p">[</span>
<span class="w">        </span><span class="mi">999</span><span class="p">,</span>
<span class="w">        </span><span class="mi">0</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;histogram&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">[</span>
<span class="w">        </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="mi">0</span>
<span class="w">      </span><span class="p">]</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;histogram&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;desc&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;length of a request inside CouchDB without MochiWeb&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<p>The fields provide the current, minimum and maximum, and a collection of
statistical means and quantities. The quantity in each case is not defined, but
the descriptions below provide sufficient detail to determine units.</p>
<p>Statistics are reported by ‘group’.  The statistics are divided into the
following top-level sections:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">couch_log</span></code>: Logging subsystem</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">couch_replicator</span></code>: Replication scheduler and subsystem</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">couchdb</span></code>: Primary CouchDB database operations</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fabric</span></code>: Cluster-related operations</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">global_changes</span></code>: Global changes feed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mem3</span></code>: Node membership-related statistics</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pread</span></code>: CouchDB file-related exceptions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rexi</span></code>: Cluster internal RPC-related statistics</p></li>
</ul>
<p>The type of the statistic is included in the <code class="docutils literal notranslate"><span class="pre">type</span></code> field, and is one of
the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">counter</span></code>: Monotonically increasing counter, resets on restart</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">histogram</span></code>: Binned set of values with meaningful subdivisions.
Scoped to the current <a class="reference internal" href="../../config/misc.html#config-stats"><span class="std std-ref">collection interval</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">gauge</span></code>: Single numerical value that can go up and down</p></li>
</ul>
<p>You can also access individual statistics by quoting the statistics sections
and statistic ID as part of the URL path. For example, to get the
<code class="docutils literal notranslate"><span class="pre">request_time</span></code> statistics within the <code class="docutils literal notranslate"><span class="pre">couchdb</span></code> section for the target
node, you can use:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_node/_local/_stats/couchdb/request_time</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>
</div>
<p>This returns an entire statistics object, as with the full request, but
containing only the requested individual statistic.</p>
</section>
<section id="node-node-name-prometheus">
<span id="api-server-prometheus"></span><h1><span class="section-number">1.2.13. </span><code class="docutils literal notranslate"><span class="pre">/_node/{node-name}/_prometheus</span></code><a class="headerlink" href="#node-node-name-prometheus" title="Permalink to this heading">¶</a></h1>
<dl class="http get">
<dt class="sig sig-object http" id="get--_node-node-name-_prometheus">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_node/{node-name}/_prometheus</span></span><a class="headerlink" href="#get--_node-node-name-_prometheus" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">_prometheus</span></code> resource returns a text/plain response that consolidates our
<a class="reference internal" href="#api-server-stats"><span class="std std-ref">/_node/{node-name}/_stats</span></a>, and <a class="reference internal" href="#api-server-system"><span class="std std-ref">/_node/{node-name}/_system</span></a> endpoints. The format is
determined by <a class="reference external" href="https://prometheus.io/docs/introduction/overview/">Prometheus</a>.
The format version is 2.0.</p>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_node/_local/_prometheus</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">text/plain</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">187</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">text/plain; version=2.0</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sat, 10 May 2020 11:41:11 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>

# TYPE couchdb_couch_log_requests_total counter
couchdb_couch_log_requests_total{level=&quot;alert&quot;} 0
couchdb_couch_log_requests_total{level=&quot;critical&quot;} 0
couchdb_couch_log_requests_total{level=&quot;debug&quot;} 0
couchdb_couch_log_requests_total{level=&quot;emergency&quot;} 0
couchdb_couch_log_requests_total{level=&quot;error&quot;} 0
couchdb_couch_log_requests_total{level=&quot;info&quot;} 8
couchdb_couch_log_requests_total{level=&quot;notice&quot;} 51
couchdb_couch_log_requests_total{level=&quot;warning&quot;} 0
# TYPE couchdb_couch_replicator_changes_manager_deaths_total counter
couchdb_couch_replicator_changes_manager_deaths_total 0
# TYPE couchdb_couch_replicator_changes_queue_deaths_total counter
couchdb_couch_replicator_changes_queue_deaths_total 0
# TYPE couchdb_couch_replicator_changes_read_failures_total counter
couchdb_couch_replicator_changes_read_failures_total 0
# TYPE couchdb_couch_replicator_changes_reader_deaths_total counter
couchdb_couch_replicator_changes_reader_deaths_total 0
# TYPE couchdb_couch_replicator_checkpoints_failure_total counter
couchdb_couch_replicator_checkpoints_failure_total 0
# TYPE couchdb_couch_replicator_checkpoints_total counter
couchdb_couch_replicator_checkpoints_total 0
# TYPE couchdb_couch_replicator_cluster_is_stable gauge
couchdb_couch_replicator_cluster_is_stable 1
# TYPE couchdb_couch_replicator_connection_acquires_total counter
couchdb_couch_replicator_connection_acquires_total 0
# TYPE couchdb_couch_replicator_connection_closes_total counter
couchdb_couch_replicator_connection_closes_total 0
# TYPE couchdb_couch_replicator_connection_creates_total counter
couchdb_couch_replicator_connection_creates_total 0
# TYPE couchdb_couch_replicator_connection_owner_crashes_total counter
couchdb_couch_replicator_connection_owner_crashes_total 0
# TYPE couchdb_couch_replicator_connection_releases_total counter
couchdb_couch_replicator_connection_releases_total 0
# TYPE couchdb_couch_replicator_connection_worker_crashes_total counter
couchdb_couch_replicator_connection_worker_crashes_total 0
# TYPE couchdb_couch_replicator_db_scans_total counter
couchdb_couch_replicator_db_scans_total 1
# TYPE couchdb_couch_replicator_docs_completed_state_updates_total counter
couchdb_couch_replicator_docs_completed_state_updates_total 0
# TYPE couchdb_couch_replicator_docs_db_changes_total counter
couchdb_couch_replicator_docs_db_changes_total 0
# TYPE couchdb_couch_replicator_docs_dbs_created_total counter
couchdb_couch_replicator_docs_dbs_created_total 0
# TYPE couchdb_couch_replicator_docs_dbs_deleted_total counter
couchdb_couch_replicator_docs_dbs_deleted_total 0
# TYPE couchdb_couch_replicator_docs_dbs_found_total counter
couchdb_couch_replicator_docs_dbs_found_total 2
# TYPE couchdb_couch_replicator_docs_failed_state_updates_total counter
couchdb_couch_replicator_docs_failed_state_updates_total 0
# TYPE couchdb_couch_replicator_failed_starts_total counter
couchdb_couch_replicator_failed_starts_total 0
# TYPE couchdb_couch_replicator_jobs_adds_total counter
couchdb_couch_replicator_jobs_adds_total 0
# TYPE couchdb_couch_replicator_jobs_crashed gauge
couchdb_couch_replicator_jobs_crashed 0
# TYPE couchdb_couch_replicator_jobs_crashes_total counter
couchdb_couch_replicator_jobs_crashes_total 0
# TYPE couchdb_couch_replicator_jobs_duplicate_adds_total counter
couchdb_couch_replicator_jobs_duplicate_adds_total 0
# TYPE couchdb_couch_replicator_jobs_pending gauge
couchdb_couch_replicator_jobs_pending 0
# TYPE couchdb_couch_replicator_jobs_removes_total counter
couchdb_couch_replicator_jobs_removes_total 0
# TYPE couchdb_couch_replicator_jobs_running gauge
couchdb_couch_replicator_jobs_running 0
# TYPE couchdb_couch_replicator_jobs_starts_total counter
couchdb_couch_replicator_jobs_starts_total 0
# TYPE couchdb_couch_replicator_jobs_stops_total counter
couchdb_couch_replicator_jobs_stops_total 0
# TYPE couchdb_couch_replicator_jobs_total gauge
couchdb_couch_replicator_jobs_total 0
# TYPE couchdb_couch_replicator_requests_total counter
couchdb_couch_replicator_requests_total 0
# TYPE couchdb_couch_replicator_responses_failure_total counter
couchdb_couch_replicator_responses_failure_total 0
# TYPE couchdb_couch_replicator_responses_total counter
couchdb_couch_replicator_responses_total 0
# TYPE couchdb_couch_replicator_stream_responses_failure_total counter
couchdb_couch_replicator_stream_responses_failure_total 0
# TYPE couchdb_couch_replicator_stream_responses_total counter
couchdb_couch_replicator_stream_responses_total 0
# TYPE couchdb_couch_replicator_worker_deaths_total counter
couchdb_couch_replicator_worker_deaths_total 0
# TYPE couchdb_couch_replicator_workers_started_total counter
couchdb_couch_replicator_workers_started_total 0
# TYPE couchdb_auth_cache_requests_total counter
couchdb_auth_cache_requests_total 0
# TYPE couchdb_auth_cache_misses_total counter
couchdb_auth_cache_misses_total 0
# TYPE couchdb_collect_results_time_seconds summary
couchdb_collect_results_time_seconds{quantile=&quot;0.5&quot;} 0.0
couchdb_collect_results_time_seconds{quantile=&quot;0.75&quot;} 0.0
couchdb_collect_results_time_seconds{quantile=&quot;0.9&quot;} 0.0
couchdb_collect_results_time_seconds{quantile=&quot;0.95&quot;} 0.0
couchdb_collect_results_time_seconds{quantile=&quot;0.99&quot;} 0.0
couchdb_collect_results_time_seconds{quantile=&quot;0.999&quot;} 0.0
couchdb_collect_results_time_seconds_sum 0.0
couchdb_collect_results_time_seconds_count 0
# TYPE couchdb_couch_server_lru_skip_total counter
couchdb_couch_server_lru_skip_total 0
# TYPE couchdb_database_purges_total counter
couchdb_database_purges_total 0
# TYPE couchdb_database_reads_total counter
couchdb_database_reads_total 0
# TYPE couchdb_database_writes_total counter
couchdb_database_writes_total 0
# TYPE couchdb_db_open_time_seconds summary
couchdb_db_open_time_seconds{quantile=&quot;0.5&quot;} 0.0
couchdb_db_open_time_seconds{quantile=&quot;0.75&quot;} 0.0
couchdb_db_open_time_seconds{quantile=&quot;0.9&quot;} 0.0
couchdb_db_open_time_seconds{quantile=&quot;0.95&quot;} 0.0
couchdb_db_open_time_seconds{quantile=&quot;0.99&quot;} 0.0
couchdb_db_open_time_seconds{quantile=&quot;0.999&quot;} 0.0
couchdb_db_open_time_seconds_sum 0.0
couchdb_db_open_time_seconds_count 0
# TYPE couchdb_dbinfo_seconds summary
couchdb_dbinfo_seconds{quantile=&quot;0.5&quot;} 0.0
couchdb_dbinfo_seconds{quantile=&quot;0.75&quot;} 0.0
couchdb_dbinfo_seconds{quantile=&quot;0.9&quot;} 0.0
couchdb_dbinfo_seconds{quantile=&quot;0.95&quot;} 0.0
couchdb_dbinfo_seconds{quantile=&quot;0.99&quot;} 0.0
couchdb_dbinfo_seconds{quantile=&quot;0.999&quot;} 0.0
couchdb_dbinfo_seconds_sum 0.0
couchdb_dbinfo_seconds_count 0
# TYPE couchdb_document_inserts_total counter
couchdb_document_inserts_total 0
# TYPE couchdb_document_purges_failure_total counter
couchdb_document_purges_failure_total 0
# TYPE couchdb_document_purges_success_total counter
couchdb_document_purges_success_total 0
# TYPE couchdb_document_purges_total_total counter
couchdb_document_purges_total_total 0
# TYPE couchdb_document_writes_total counter
couchdb_document_writes_total 0
# TYPE couchdb_httpd_aborted_requests_total counter
couchdb_httpd_aborted_requests_total 0
# TYPE couchdb_httpd_all_docs_timeouts_total counter
couchdb_httpd_all_docs_timeouts_total 0
# TYPE couchdb_httpd_bulk_docs_seconds summary
couchdb_httpd_bulk_docs_seconds{quantile=&quot;0.5&quot;} 0.0
couchdb_httpd_bulk_docs_seconds{quantile=&quot;0.75&quot;} 0.0
couchdb_httpd_bulk_docs_seconds{quantile=&quot;0.9&quot;} 0.0
couchdb_httpd_bulk_docs_seconds{quantile=&quot;0.95&quot;} 0.0
couchdb_httpd_bulk_docs_seconds{quantile=&quot;0.99&quot;} 0.0
couchdb_httpd_bulk_docs_seconds{quantile=&quot;0.999&quot;} 0.0
couchdb_httpd_bulk_docs_seconds_sum 0.0
couchdb_httpd_bulk_docs_seconds_count 0
...remaining couchdb metrics from _stats and _system
</pre></div>
</div>
</dd></dl>

<p>If an additional port config option is specified, then a client can call this API using
that port which does not require authentication. This option is <code class="docutils literal notranslate"><span class="pre">false</span></code> (OFF)
by default. When the option is <code class="docutils literal notranslate"><span class="pre">true</span></code> (ON), the default ports for a 3 node cluster
are <code class="docutils literal notranslate"><span class="pre">17986</span></code>, <code class="docutils literal notranslate"><span class="pre">27986</span></code>, <code class="docutils literal notranslate"><span class="pre">37986</span></code>.
See <a class="reference internal" href="../../config/misc.html#config-prometheus"><span class="std std-ref">Configuration of Prometheus Endpoint</span></a> for details.</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_node/_local/_prometheus</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">text/plain</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:17986</span>
</pre></div>
</div>
</section>
<section id="node-node-name-system">
<span id="api-server-system"></span><h1><span class="section-number">1.2.14. </span><code class="docutils literal notranslate"><span class="pre">/_node/{node-name}/_system</span></code><a class="headerlink" href="#node-node-name-system" title="Permalink to this heading">¶</a></h1>
<dl class="http get">
<dt class="sig sig-object http" id="get--_node-node-name-_system">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_node/{node-name}/_system</span></span><a class="headerlink" href="#get--_node-node-name-_system" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">_system</span></code> resource returns a JSON object containing various
system-level statistics for the running server. The object is structured
with top-level sections collating the statistics for a range of entries,
with each individual statistic being easily identified, and the content of
each statistic is self-describing.</p>
<p>The literal string <code class="docutils literal notranslate"><span class="pre">_local</span></code> serves as an alias for the local node name, so
for all stats URLs, <code class="docutils literal notranslate"><span class="pre">{node-name}</span></code> may be replaced with <code class="docutils literal notranslate"><span class="pre">_local</span></code>, to
interact with the local node’s statistics.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain; charset=utf-8</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_node/_local/_system</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">187</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sat, 10 Aug 2013 11:41:11 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>

<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;uptime&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">259</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;memory&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>These statistics are generally intended for CouchDB developers only.</p>
</dd></dl>

</section>
<section id="node-node-name-restart">
<span id="api-server-restart"></span><h1><span class="section-number">1.2.15. </span><code class="docutils literal notranslate"><span class="pre">/_node/{node-name}/_restart</span></code><a class="headerlink" href="#node-node-name-restart" title="Permalink to this heading">¶</a></h1>
<dl class="http post">
<dt class="sig sig-object http" id="post--_node-node-name-_restart">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/_node/{node-name}/_restart</span></span><a class="headerlink" href="#post--_node-node-name-_restart" title="Permalink to this definition">¶</a></dt>
<dd><p>This API is to facilitate integration testing only
it is not meant to be used in production</p>
<dl class="field-list simple">
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="node-node-name-versions">
<span id="api-server-versions"></span><h1><span class="section-number">1.2.16. </span><code class="docutils literal notranslate"><span class="pre">/_node/{node-name}/_versions</span></code><a class="headerlink" href="#node-node-name-versions" title="Permalink to this heading">¶</a></h1>
<dl class="http get">
<dt class="sig sig-object http" id="get--_node-node-name-_versions">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_node/{node-name}/_versions</span></span><a class="headerlink" href="#get--_node-node-name-_versions" title="Permalink to this definition">¶</a></dt>
<dd><p>The <code class="docutils literal notranslate"><span class="pre">_versions</span></code> resource returns a JSON object containing various
system-level informations for the running server.</p>
<p>The literal string <code class="docutils literal notranslate"><span class="pre">_local</span></code> serves as an alias for the local node name, so
for all stats URLs, <code class="docutils literal notranslate"><span class="pre">{node-name}</span></code> may be replaced with <code class="docutils literal notranslate"><span class="pre">_local</span></code>, to
interact with the local node’s informations.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_node/_local/_versions</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">368</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sat, 03 Sep 2022 08:12:12 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB/3.2.2-ea382cf (Erlang OTP/25)</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;javascript_engine&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;91&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;spidermonkey&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;erlang&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;25.0.4&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;supported_hashes&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;sha&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;sha224&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="s2">&quot;sha256&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;collation_driver&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;libicu&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;library_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;70.1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;collator_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;153.112&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;collation_algorithm_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;14&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="search-analyze">
<span id="api-server-search-analyze"></span><h1><span class="section-number">1.2.17. </span><code class="docutils literal notranslate"><span class="pre">/_search_analyze</span></code><a class="headerlink" href="#search-analyze" title="Permalink to this heading">¶</a></h1>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Search endpoints require a running search plugin connected to each cluster
node. See <a class="reference internal" href="../../install/search.html#install-search"><span class="std std-ref">Search Plugin Installation</span></a> for details.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.0.</span></p>
</div>
<dl class="http post">
<dt class="sig sig-object http" id="post--_search_analyze">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/_search_analyze</span></span><a class="headerlink" href="#post--_search_analyze" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests the results of Lucene analyzer tokenization on sample text.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>field</strong> – Type of analyzer</p></li>
<li><p><strong>text</strong> – Analyzer token you want to test</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – Request body is wrong (malformed or missing one of the mandatory fields)</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.5.1">500 Internal Server Error</a></span> – A server error (or other kind of error) occurred</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/_search_analyze</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span><span class="nt">&quot;analyzer&quot;</span><span class="p">:</span><span class="s2">&quot;english&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="s2">&quot;running&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;tokens&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;run&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="utils">
<span id="api-server-utils"></span><h1><span class="section-number">1.2.18. </span><code class="docutils literal notranslate"><span class="pre">/_utils</span></code><a class="headerlink" href="#utils" title="Permalink to this heading">¶</a></h1>
<dl class="http get">
<dt class="sig sig-object http" id="get--_utils">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_utils</span></span><a class="headerlink" href="#get--_utils" title="Permalink to this definition">¶</a></dt>
<dd><p>Accesses the built-in Fauxton administration interface for CouchDB.</p>
<dl class="field-list simple">
<dt class="field-odd">Response Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-7.1.2">Location</a></span> – New URI location</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.3.2">301 Moved Permanently</a></span> – Redirects to <a class="reference internal" href="#get--_utils-" title="GET /_utils/"><code class="xref http http-get docutils literal notranslate"><span class="pre">GET</span> <span class="pre">/_utils/</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="http get">
<dt class="sig sig-object http" id="get--_utils-">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_utils/</span></span><a class="headerlink" href="#get--_utils-" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Response Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <em class="mimetype">text/html</em></p></li>
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7232#section-2.2">Last-Modified</a></span> – Static files modification timestamp</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="up">
<span id="api-server-up"></span><h1><span class="section-number">1.2.19. </span><code class="docutils literal notranslate"><span class="pre">/_up</span></code><a class="headerlink" href="#up" title="Permalink to this heading">¶</a></h1>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.0.</span></p>
</div>
<dl class="http get">
<dt class="sig sig-object http" id="get--_up">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_up</span></span><a class="headerlink" href="#get--_up" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirms that the server is up, running, and ready to respond to requests.
If <a class="reference internal" href="../../config/couchdb.html#couchdb/maintenance_mode" title="maintenance_mode"><code class="xref config config-option docutils literal notranslate"><span class="pre">maintenance_mode</span></code></a> is
<code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">nolb</span></code>, the endpoint will return a 404 response.</p>
<dl class="field-list simple">
<dt class="field-odd">Response Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <em class="mimetype">application/json</em></p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a></span> – The server is unavailable for requests at this time.</p></li>
</ul>
</dd>
</dl>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Cache-Control</span><span class="o">:</span> <span class="l">must-revalidate</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">16</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sat, 17 Mar 2018 04:46:26 GMT</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB/2.2.0-f999071ec (Erlang OTP/19)</span>
<span class="na">X-Couch-Request-ID</span><span class="o">:</span> <span class="l">c57a3b2787</span>
<span class="na">X-CouchDB-Body-Time</span><span class="o">:</span> <span class="l">0</span>

<span class="p">{</span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;ok&quot;</span><span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="uuids">
<span id="api-server-uuids"></span><h1><span class="section-number">1.2.20. </span><code class="docutils literal notranslate"><span class="pre">/_uuids</span></code><a class="headerlink" href="#uuids" title="Permalink to this heading">¶</a></h1>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 2.0.0.</span></p>
</div>
<dl class="http get">
<dt class="sig sig-object http" id="get--_uuids">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_uuids</span></span><a class="headerlink" href="#get--_uuids" title="Permalink to this definition">¶</a></dt>
<dd><p>Requests one or more Universally Unique Identifiers (UUIDs) from the
CouchDB instance. The response is a JSON object providing a list of UUIDs.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Query Parameters<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>count</strong> (<em>number</em>) – Number of UUIDs to return. Default is <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p></li>
</ul>
</dd>
<dt class="field-odd">Response Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
<li><p><em class="mimetype">text/plain; charset=utf-8</em></p></li>
</ul>
</p></li>
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7232#section-2.3">ETag</a></span> – Response hash</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – Requested more UUIDs than is <a class="reference internal" href="../../config/misc.html#uuids/max_count" title="max_count"><code class="xref config config-option docutils literal notranslate"><span class="pre">allowed</span></code></a> to retrieve</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_uuids?count=10</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Length</span><span class="o">:</span> <span class="l">362</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Date</span><span class="o">:</span> <span class="l">Sat, 10 Aug 2013 11:46:25 GMT</span>
<span class="na">ETag</span><span class="o">:</span> <span class="l">&quot;DGRWWQFLUDWN5MRKSLKQ425XV&quot;</span>
<span class="na">Expires</span><span class="o">:</span> <span class="l">Fri, 01 Jan 1990 00:00:00 GMT</span>
<span class="na">Pragma</span><span class="o">:</span> <span class="l">no-cache</span>
<span class="na">Server</span><span class="o">:</span> <span class="l">CouchDB (Erlang/OTP)</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;uuids&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;75480ca477454894678e22eec6002413&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;75480ca477454894678e22eec600250b&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;75480ca477454894678e22eec6002c41&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;75480ca477454894678e22eec6003b90&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;75480ca477454894678e22eec6003fca&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;75480ca477454894678e22eec6004bef&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;75480ca477454894678e22eec600528f&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;75480ca477454894678e22eec6005e0b&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;75480ca477454894678e22eec6006158&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;75480ca477454894678e22eec6006161&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<p>The UUID type is determined by the <a class="reference internal" href="../../config/misc.html#uuids/algorithm" title="algorithm"><code class="xref config config-option docutils literal notranslate"><span class="pre">UUID</span> <span class="pre">algorithm</span></code></a> setting in the CouchDB configuration.</p>
<p>The UUID type may be changed at any time through the
<a class="reference internal" href="configuration.html#api-config-section-key"><span class="std std-ref">Configuration API</span></a>. For example, the UUID type
could be changed to <code class="docutils literal notranslate"><span class="pre">random</span></code> by sending this HTTP request:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">PUT</span> <span class="nn">http://couchdb:5984/_node/nonode@nohost/_config/uuids/algorithm</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">*/*</span>

<span class="s2">&quot;random&quot;</span>
</pre></div>
</div>
<p>You can verify the change by obtaining a list of UUIDs:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">    </span><span class="s2">&quot;uuids&quot;</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;031aad7b469956cf2826fcb2a9260492&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;6ec875e15e6b385120938df18ee8e496&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;cff9e881516483911aa2f0e98949092d&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;b89d37509d39dd712546f9510d4a9271&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;2e0dbf7f6c4ad716f21938a016e4e59f&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="favicon-ico">
<span id="api-server-favicon"></span><h1><span class="section-number">1.2.21. </span><code class="docutils literal notranslate"><span class="pre">/favicon.ico</span></code><a class="headerlink" href="#favicon-ico" title="Permalink to this heading">¶</a></h1>
<dl class="http get">
<dt class="sig sig-object http" id="get--favicon.ico">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/favicon.ico</span></span><a class="headerlink" href="#get--favicon.ico" title="Permalink to this definition">¶</a></dt>
<dd><p>Binary content for the <cite>favicon.ico</cite> site icon.</p>
<dl class="field-list simple">
<dt class="field-odd">Response Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <em class="mimetype">image/x-icon</em></p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a></span> – The requested content could not be found</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="reshard">
<span id="api-server-reshard"></span><h1><span class="section-number">1.2.22. </span><code class="docutils literal notranslate"><span class="pre">/_reshard</span></code><a class="headerlink" href="#reshard" title="Permalink to this heading">¶</a></h1>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.4.</span></p>
</div>
<dl class="http get">
<dt class="sig sig-object http" id="get--_reshard">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_reshard</span></span><a class="headerlink" href="#get--_reshard" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a count of completed, failed, running, stopped, and total jobs
along with the state of resharding on the cluster.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<em>string</em>) – <code class="docutils literal notranslate"><span class="pre">stopped</span></code> or <code class="docutils literal notranslate"><span class="pre">running</span></code></p></li>
<li><p><strong>state_reason</strong> (<em>string</em>) – <code class="docutils literal notranslate"><span class="pre">null</span></code> or string describing additional
information or reason associated with the state</p></li>
<li><p><strong>completed</strong> (<em>number</em>) – Count of completed resharding jobs</p></li>
<li><p><strong>failed</strong> (<em>number</em>) – Count of failed resharding jobs</p></li>
<li><p><strong>running</strong> (<em>number</em>) – Count of running resharding jobs</p></li>
<li><p><strong>stopped</strong> (<em>number</em>) – Count of stopped resharding jobs</p></li>
<li><p><strong>total</strong> (<em>number</em>) – Total count of resharding jobs</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – CouchDB Server Administrator privileges required</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_reshard</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;completed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;failed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;running&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;running&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;state_reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;stopped&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http get">
<dt class="sig sig-object http" id="get--_reshard-state">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_reshard/state</span></span><a class="headerlink" href="#get--_reshard-state" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the resharding state and optional information about the state.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<em>string</em>) – <code class="docutils literal notranslate"><span class="pre">stopped</span></code> or <code class="docutils literal notranslate"><span class="pre">running</span></code></p></li>
<li><p><strong>state_reason</strong> (<em>string</em>) – Additional  information  or  reason  associated
with the state</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – CouchDB Server Administrator privileges required</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_reshard/state</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;running&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http put">
<dt class="sig sig-object http" id="put--_reshard-state">
<span class="sig-name descname"><span class="pre">PUT</span> </span><span class="sig-name descname"><span class="pre">/_reshard/state</span></span><a class="headerlink" href="#put--_reshard-state" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the resharding state on the cluster. The states are
<code class="docutils literal notranslate"><span class="pre">stopped</span></code> or <code class="docutils literal notranslate"><span class="pre">running</span></code>. This starts and stops global resharding on all
the nodes of the cluster. If there are any running jobs, they
will be stopped when the state changes to <code class="docutils literal notranslate"><span class="pre">stopped</span></code>. When the state
changes back to <code class="docutils literal notranslate"><span class="pre">running</span></code> those job will continue running.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Request JSON Object<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<em>string</em>) – <code class="docutils literal notranslate"><span class="pre">stopped</span></code> or <code class="docutils literal notranslate"><span class="pre">running</span></code></p></li>
<li><p><strong>state_reason</strong> (<em>string</em>) – Optional string describing additional
information or reason associated with the state</p></li>
</ul>
</dd>
<dt class="field-even">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ok</strong> (<em>boolean</em>) – <code class="docutils literal notranslate"><span class="pre">true</span></code></p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – Invalid request. Could be a bad or missing state name.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – CouchDB Server Administrator privileges required</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">PUT</span> <span class="nn">/_reshard/state</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>

{
    &quot;state&quot;: &quot;stopped&quot;,
    &quot;reason&quot;: &quot;Rebalancing in progress&quot;
}
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;ok&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http get">
<dt class="sig sig-object http" id="get--_reshard-jobs">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_reshard/jobs</span></span><a class="headerlink" href="#get--_reshard-jobs" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition note">
<p class="admonition-title">Note</p>
<p>The shape of the response and the <code class="docutils literal notranslate"><span class="pre">total_rows</span></code> and <code class="docutils literal notranslate"><span class="pre">offset</span></code>
field in particular are meant to be consistent with the
<code class="docutils literal notranslate"><span class="pre">_scheduler/jobs</span></code> endpoint.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>jobs</strong> (<em>list</em>) – Array of json objects, one for each resharding job. For
the fields of each job see the /_reshard/job/{jobid}
endpoint.</p></li>
<li><p><strong>offset</strong> (<em>number</em>) – Offset in the list of jobs object. Currently
hard-coded at <code class="docutils literal notranslate"><span class="pre">0</span></code>.</p></li>
<li><p><strong>total_rows</strong> (<em>number</em>) – Total number of resharding jobs on the cluster.</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – CouchDB Server Administrator privileges required</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_reshard/jobs</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;jobs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;history&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;detail&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-03-28T15:28:02Z&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;new&quot;</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;detail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;initial_copy&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-03-28T15:28:02Z&quot;</span><span class="p">,</span>
<span class="w">                    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;running&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;001-171d1211418996ff47bd610b1d1257fc4ca2628868def4a05e63e8f8fe50694a&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;job_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node1@127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shards/00000000-1fffffff/d1.1553786862&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;split_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-03-28T15:28:02Z&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;state_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">            </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;shards/00000000-0fffffff/d1.1553786862&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="s2">&quot;shards/10000000-1fffffff/d1.1553786862&quot;</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;split&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;update_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-03-28T15:28:08Z&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;total_rows&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http get">
<dt class="sig sig-object http" id="get--_reshard-jobs-jobid">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_reshard/jobs/{jobid}</span></span><a class="headerlink" href="#get--_reshard-jobs-jobid" title="Permalink to this definition">¶</a></dt>
<dd><p>Get information about the resharding job identified by <code class="docutils literal notranslate"><span class="pre">jobid</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>id</strong> (<em>string</em>) – Job ID.</p></li>
<li><p><strong>type</strong> (<em>string</em>) – Currently only <code class="docutils literal notranslate"><span class="pre">split</span></code> is implemented.</p></li>
<li><p><strong>job_state</strong> (<em>string</em>) – The running state of the job. Could be one of
<code class="docutils literal notranslate"><span class="pre">new</span></code>, <code class="docutils literal notranslate"><span class="pre">running</span></code>, <code class="docutils literal notranslate"><span class="pre">stopped</span></code>, <code class="docutils literal notranslate"><span class="pre">completed</span></code>
or <code class="docutils literal notranslate"><span class="pre">failed</span></code>.</p></li>
<li><p><strong>split_state</strong> (<em>string</em>) – State detail specific to shard splitting. It
indicates how far has shard splitting
progressed, and can be one of <code class="docutils literal notranslate"><span class="pre">new</span></code>,
<code class="docutils literal notranslate"><span class="pre">initial_copy</span></code>, <code class="docutils literal notranslate"><span class="pre">topoff1</span></code>,
<code class="docutils literal notranslate"><span class="pre">build_indices</span></code>, <code class="docutils literal notranslate"><span class="pre">topoff2</span></code>,
<code class="docutils literal notranslate"><span class="pre">copy_local_docs</span></code>, <code class="docutils literal notranslate"><span class="pre">update_shardmap</span></code>,
<code class="docutils literal notranslate"><span class="pre">wait_source_close</span></code>, <code class="docutils literal notranslate"><span class="pre">topoff3</span></code>,
<code class="docutils literal notranslate"><span class="pre">source_delete</span></code> or <code class="docutils literal notranslate"><span class="pre">completed</span></code>.</p></li>
<li><p><strong>state_info</strong> (<em>object</em>) – Optional additional info associated with the
current state.</p></li>
<li><p><strong>source</strong> (<em>string</em>) – For <code class="docutils literal notranslate"><span class="pre">split</span></code> jobs this will be the source shard.</p></li>
<li><p><strong>target</strong> (<em>list</em>) – For <code class="docutils literal notranslate"><span class="pre">split</span></code> jobs this will be a list of two or more
target shards.</p></li>
<li><p><strong>history</strong> (<em>list</em>) – List of json objects recording a job’s state
transition history.</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – CouchDB Server Administrator privileges required</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_reshard/jobs/001-171d1211418996ff47bd610b1d1257fc4ca2628868def4a05e63e8f8fe50694a</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>

<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;001-171d1211418996ff47bd610b1d1257fc4ca2628868def4a05e63e8f8fe50694a&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;job_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node1@127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;source&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shards/00000000-1fffffff/d1.1553786862&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;split_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completed&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;start_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-03-28T15:28:02Z&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;state_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">    </span><span class="nt">&quot;target&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;shards/00000000-0fffffff/d1.1553786862&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="s2">&quot;shards/10000000-1fffffff/d1.1553786862&quot;</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;split&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;update_time&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-03-28T15:28:08Z&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;history&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;detail&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-03-28T15:28:02Z&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;new&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;detail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;initial_copy&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2019-03-28T15:28:02Z&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;running&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http post">
<dt class="sig sig-object http" id="post--_reshard-jobs">
<span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/_reshard/jobs</span></span><a class="headerlink" href="#post--_reshard-jobs" title="Permalink to this definition">¶</a></dt>
<dd><p>Depending on what fields are specified in the request, one or more
resharding jobs will be created. The response is a json array of results.
Each result object represents a single resharding job for a particular node
and range. Some of the responses could be successful and some could fail.
Successful results will have the <code class="docutils literal notranslate"><span class="pre">&quot;ok&quot;:</span> <span class="pre">true</span></code> key and and value, and
failed jobs will have the <code class="docutils literal notranslate"><span class="pre">&quot;error&quot;:</span> <span class="pre">&quot;{error_message}&quot;</span></code> key and value.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Request JSON Object<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>type</strong> (<em>string</em>) – Type of job. Currently only <code class="docutils literal notranslate"><span class="pre">&quot;split&quot;</span></code> is accepted.</p></li>
<li><p><strong>db</strong> (<em>string</em>) – Database to split. This is mutually exclusive with the
<code class="docutils literal notranslate"><span class="pre">&quot;shard</span></code>” field.</p></li>
<li><p><strong>node</strong> (<em>string</em>) – Split shards on a particular node. This is an optional
parameter. The value should be one of the nodes
returned from the <code class="docutils literal notranslate"><span class="pre">_membership</span></code> endpoint.</p></li>
<li><p><strong>range</strong> (<em>string</em>) – Split shards copies in the given range. The range
format is <code class="docutils literal notranslate"><span class="pre">hhhhhhhh-hhhhhhhh</span></code> where <code class="docutils literal notranslate"><span class="pre">h</span></code> is a
hexadecimal digit. This format is used since this is
how the ranges are represented in the file system.
This is parameter is optional and is mutually
exclusive with the <code class="docutils literal notranslate"><span class="pre">&quot;shard&quot;</span></code> field.</p></li>
<li><p><strong>shard</strong> (<em>string</em>) – Split a particular shard. The shard should be
specified as <code class="docutils literal notranslate"><span class="pre">&quot;shards/{range}/{db}.{suffix}&quot;</span></code>. Where
<code class="docutils literal notranslate"><span class="pre">range</span></code> has the <code class="docutils literal notranslate"><span class="pre">hhhhhhhh-hhhhhhhh</span></code> format, <code class="docutils literal notranslate"><span class="pre">db</span></code>
is the database name, and <code class="docutils literal notranslate"><span class="pre">suffix</span></code> is the shard
(timestamp) creation suffix.</p></li>
<li><p><strong>error</strong> (<em>string</em>) – Error message if a job could be not be created.</p></li>
<li><p><strong>node</strong> – Cluster node where the job was created and is running.</p></li>
</ul>
</dd>
<dt class="field-even">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ok</strong> (<em>boolean</em>) – <code class="docutils literal notranslate"><span class="pre">true</span></code> if job created successfully.</p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.2">201 Created</a></span> – One or more jobs were successfully created</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – Invalid request. Parameter validation might have failed.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – CouchDB Server Administrator privileges required</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a></span> – Db, node, range or shard was not found</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">POST</span> <span class="nn">/_reshard/jobs</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;db&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;db3&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;range&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;80000000-ffffffff&quot;</span><span class="p">,</span>
<span class="w">   </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;split&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;001-30d7848a6feeb826d5e3ea5bb7773d672af226fd34fd84a8fb1ca736285df557&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node1@127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;ok&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;shard&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shards/80000000-ffffffff/db3.1554148353&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;001-c2d734360b4cb3ff8b3feaccb2d787bf81ce2e773489eddd985ddd01d9de8e01&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;node&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node2@127.0.0.1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;ok&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;shard&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;shards/80000000-ffffffff/db3.1554148353&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="http delete">
<dt class="sig sig-object http" id="delete--_reshard-jobs-jobid">
<span class="sig-name descname"><span class="pre">DELETE</span> </span><span class="sig-name descname"><span class="pre">/_reshard/jobs/{jobid}</span></span><a class="headerlink" href="#delete--_reshard-jobs-jobid" title="Permalink to this definition">¶</a></dt>
<dd><p>If the job is running, stop the job and then remove it.</p>
<dl class="field-list simple">
<dt class="field-odd">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ok</strong> (<em>boolean</em>) – <code class="docutils literal notranslate"><span class="pre">true</span></code> if the job was removed successfully.</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – The job was removed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – CouchDB Server Administrator privileges required</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a></span> – The job was not found</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">DELETE</span> <span class="nn">/_reshard/jobs/001-171d1211418996ff47bd610b1d1257fc4ca2628868def4a05e63e8f8fe50694a</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;ok&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http get">
<dt class="sig sig-object http" id="get--_reshard-jobs-jobid-state">
<span class="sig-name descname"><span class="pre">GET</span> </span><span class="sig-name descname"><span class="pre">/_reshard/jobs/{jobid}/state</span></span><a class="headerlink" href="#get--_reshard-jobs-jobid-state" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the running state of a resharding job identified by <code class="docutils literal notranslate"><span class="pre">jobid</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Request JSON Object<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<em>string</em>) – One of <code class="docutils literal notranslate"><span class="pre">new</span></code>, <code class="docutils literal notranslate"><span class="pre">running</span></code>, <code class="docutils literal notranslate"><span class="pre">stopped</span></code>,
<code class="docutils literal notranslate"><span class="pre">completed</span></code> or <code class="docutils literal notranslate"><span class="pre">failed</span></code>.</p></li>
<li><p><strong>state_reason</strong> (<em>string</em>) – Additional information associated with the
state</p></li>
</ul>
</dd>
<dt class="field-even">Status Codes<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – CouchDB Server Administrator privileges required</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a></span> – The job was not found</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">GET</span> <span class="nn">/_reshard/jobs/001-b3da04f969bbd682faaab5a6c373705cbcca23f732c386bb1a608cfbcfe9faff/state</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;state&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;running&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="http put">
<dt class="sig sig-object http" id="put--_reshard-jobs-jobid-state">
<span class="sig-name descname"><span class="pre">PUT</span> </span><span class="sig-name descname"><span class="pre">/_reshard/jobs/{jobid}/state</span></span><a class="headerlink" href="#put--_reshard-jobs-jobid-state" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the state of a particular resharding job identified by <code class="docutils literal notranslate"><span class="pre">jobid</span></code>.
The state can be changed from <code class="docutils literal notranslate"><span class="pre">stopped</span></code> to <code class="docutils literal notranslate"><span class="pre">running</span></code> or from
<code class="docutils literal notranslate"><span class="pre">running</span></code> to <code class="docutils literal notranslate"><span class="pre">stopped</span></code>. If an individual job is <code class="docutils literal notranslate"><span class="pre">stopped</span></code> via this
API it will stay <code class="docutils literal notranslate"><span class="pre">stopped</span></code> even after the global resharding state is
toggled from <code class="docutils literal notranslate"><span class="pre">stopped</span></code> to <code class="docutils literal notranslate"><span class="pre">running</span></code>. If the job is already
<code class="docutils literal notranslate"><span class="pre">completed</span></code> its state will stay <code class="docutils literal notranslate"><span class="pre">completed</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Request Headers<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-5.3.2">Accept</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Response Headers<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><span><a class="reference external" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.5">Content-Type</a></span> – <ul>
<li><p><em class="mimetype">application/json</em></p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-odd">Request JSON Object<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>state</strong> (<em>string</em>) – <code class="docutils literal notranslate"><span class="pre">stopped</span></code> or <code class="docutils literal notranslate"><span class="pre">running</span></code></p></li>
<li><p><strong>state_reason</strong> (<em>string</em>) – Optional string describing additional
information or reason associated with the state</p></li>
</ul>
</dd>
<dt class="field-even">Response JSON Object<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ok</strong> (<em>boolean</em>) – <code class="docutils literal notranslate"><span class="pre">true</span></code></p></li>
</ul>
</dd>
<dt class="field-odd">Status Codes<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.2.1">200 OK</a></span> – Request completed successfully</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.1">400 Bad Request</a></span> – Invalid request. Could be a bad state name, for example.</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.2">401 Unauthorized</a></span> – CouchDB Server Administrator privileges required</p></li>
<li><p><span><a class="reference external" href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html#sec10.4.5">404 Not Found</a></span> – The job was not found</p></li>
</ul>
</dd>
</dl>
<p><strong>Request</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="nf">PUT</span> <span class="nn">/_reshard/state/001-b3da04f969bbd682faaab5a6c373705cbcca23f732c386bb1a608cfbcfe9faff/state</span> <span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Accept</span><span class="o">:</span> <span class="l">application/json</span>
<span class="na">Host</span><span class="o">:</span> <span class="l">localhost:5984</span>

{
    &quot;state&quot;: &quot;stopped&quot;,
    &quot;reason&quot;: &quot;Rebalancing in progress&quot;
}
</pre></div>
</div>
<p><strong>Response</strong>:</p>
<div class="highlight-http notranslate"><div class="highlight"><pre><span></span><span class="kr">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="o">:</span> <span class="l">application/json</span>

<span class="p">{</span>
<span class="w">     </span><span class="nt">&quot;ok&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="1.2. Server" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="authn.html" class="btn btn-neutral float-right" title="1.2.23. Authentication" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Apache Software Foundation. CouchDB® is a registered trademark of the Apache Software Foundation.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>